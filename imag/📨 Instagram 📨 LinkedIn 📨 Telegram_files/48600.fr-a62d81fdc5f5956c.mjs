(self.modernJsonp=self.modernJsonp||[]).push([["48600"],{386248:function(e,i,t){t.r(i),t.d(i,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SaveButton_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"localPinId",storageKey:null}],storageKey:null}]}],type:"Pin",abstractKey:null};a.hash="8aaa3ef306723a6124483dee9e603bd8";let n=a},100554:function(e,i,t){var a,n,l,s,o;t.r(i),t.d(i,{default:()=>d});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisualContext_pin",selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:s=[{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captionsUrls",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:s,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null}],storageKey:null},{alias:"images_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o=[l,a,n],storageKey:'images(spec:"564x")'},{alias:"images_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"736x")'},{alias:"images_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"orig")'},{alias:"images_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"474x")'},{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"236x")'},{alias:"images_1200x",args:[{kind:"Literal",name:"spec",value:"1200x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"1200x")'},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVideo",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetMainPinImage_pin"}],type:"Pin",abstractKey:null};r.hash="08cd44e128b47bb7c9b6b57bde25cae7";let d=r},562802:function(e,i,t){var a;t.r(i),t.d(i,{default:()=>l});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetMainPinImage_pin",selections:[{alias:"images_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"images_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"736x")'},{alias:"images_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"orig")'},{alias:"images_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"474x")'},{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"236x")'},{alias:"images_1200x",args:[{kind:"Literal",name:"spec",value:"1200x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"1200x")'}],type:"Pin",abstractKey:null};n.hash="bd2991a5190c2f6977d6f49024eb3318";let l=n},642025:function(e,i,t){t.d(i,{Z:()=>u});var a=t(686659),n=t(667294),l=t(399353),s=t(465784),o=t(24246),r=t(248380),d=t(904946),c=t(785893);function u({imageUrl:e,onDismissModal:i}){(0,n.useEffect)(()=>{(0,a.Z)("LensBoardPicker","/app/common/react/components/Lens/LensBoardPicker.tsx")},[]);let t=(0,o.Z)(),u={description:"",imageUrl:e,link:""},_=async e=>{(await e.promise).board&&i()};return(0,c.jsx)(s.ZP,{accessibilityModalLabel:t.bt("Sélectionnez un tableau", "Choose board", "lens.board.picker.modal", undefined, true),heading:t.bt("Sélectionnez un tableau", "Choose board", "lens.board.picker.modal", undefined, true),isOpen:!0,onDismiss:i,size:"md",children:(0,c.jsx)(r.K,{action:"create",description:"",method:"lens_camera",onClose:i,pinKey:null,setCompletionPromise:_,urlPinInfo:u,children:({boardSavedTo:e,dismissModal:i,displaySuccessAnimation:t,handleAbort:a,handleNewBoardAnimationCompletion:n,handleSaveToBoard:s,newPin:o,modalTitle:r,setModalTitle:_,updateDescription:m})=>(0,c.jsx)(l.xu,{width:"100%",children:(0,c.jsx)(d.Z,{boardSavedTo:e,description:"",dismissModal:i,displaySuccessAnimation:t,handleAbort:a,handleNewBoardAnimationCompletion:n,handleSaveToBoard:s,modalTitle:r,newPin:o,pinKey:null,setModalTitle:_,shouldRenderContent:!0,updateDescription:m,urlPinInfo:u})})})})}},77957:function(e,i,t){t.d(i,{A:()=>p,G:()=>u});var a,n=t(667294);t(167912);var l=t(213491),s=t(183e3),o=t(566431),r=t(296339),d=t(785893);let{Provider:c,get:u}=(0,l.Z)("VisualContext"),_=(void 0!==a||(a=t(100554)).hash&&"08cd44e128b47bb7c9b6b57bde25cae7"!==a.hash&&console.error("The definition of 'VisualContext_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),m=({children:e,pinKey:i,overrideValue:t={}})=>{let a=(0,s.Z)(_,i),{videos:l,embed:u,link:m,isVideo:p}=a??{},g=(0,n.useMemo)(()=>l?.videoList?.v720P?.url?{duration:l.videoList.v720P.duration||void 0,height:l.videoList.v720P.height||void 0,thumbnail:l.videoList.v720P.thumbnail||void 0,url:l.videoList.v720P.url||void 0,width:l.videoList.v720P.width||void 0,captions_urls:l.videoList.v720P.captionsUrls||void 0}:void 0,[l?.videoList?.v720P?.duration,l?.videoList?.v720P?.height,l?.videoList?.v720P?.thumbnail,l?.videoList?.v720P?.url,l?.videoList?.v720P?.width,l?.videoList?.v720P?.captionsUrls]),h=(0,n.useMemo)(()=>l?.videoList?.vHLSV4?.url?{duration:l.videoList.vHLSV4.duration||void 0,height:l.videoList.vHLSV4.height||void 0,thumbnail:l.videoList.vHLSV4.thumbnail||void 0,url:l.videoList.vHLSV4.url||void 0,width:l.videoList.vHLSV4.width||void 0}:void 0,[l?.videoList?.vHLSV4?.duration,l?.videoList?.vHLSV4?.height,l?.videoList?.vHLSV4?.thumbnail,l?.videoList?.vHLSV4?.url,l?.videoList?.vHLSV4?.width]),v=(0,n.useMemo)(()=>l?.videoList?.vHLSV3MOBILE?.url?{duration:l.videoList.vHLSV3MOBILE.duration||void 0,height:l.videoList.vHLSV3MOBILE.height||void 0,thumbnail:l.videoList.vHLSV3MOBILE.thumbnail||void 0,url:l.videoList.vHLSV3MOBILE.url||void 0,width:l.videoList.vHLSV3MOBILE.width||void 0}:void 0,[l?.videoList?.vHLSV3MOBILE?.duration,l?.videoList?.vHLSV3MOBILE?.height,l?.videoList?.vHLSV3MOBILE?.thumbnail,l?.videoList?.vHLSV3MOBILE?.url,l?.videoList?.vHLSV3MOBILE?.width]),f=(0,n.useMemo)(()=>{let e=g||h||v;return l?.entityId&&e?{id:l.entityId,hasVideo:e,mp4:g||void 0,hls:h||void 0,hlsv3:v||void 0}:null},[h,v,g,l?.entityId]),y=(0,o.sY)(u?.type),b=(0,o.oU)({isVideo:p,link:m}),{mainPinImage:S,srcSet:I,srcSizes:x}=(0,r.Z)({pinKey:a}),E=a?.images_1200x||a?.images_orig||a?.images_736x||a?.images_564x||a?.images_474x||a?.images_236x,L=(0,n.useMemo)(()=>({height:E?.height??1,url:E?.url??"",width:E?.width??1}),[E]),P=a?.images_236x,k=(0,n.useMemo)(()=>P?.url?{height:P.height??1,url:P.url,width:P.width??1}:null,[P]),T=(0,n.useMemo)(()=>{let e=u?.subtype==="pinstory",i=t.mainImage||S,a=t?.carouselInfo?.carouselData?.index??0,n=t?.carouselInfo?.carouselData?.carousel_slots,l=(null!=a&&n&&n[a]?.link||null)??m??"";return{...t,mainImage:i,previewImage:void 0===t.previewImage?k:t.previewImage,mediaViewerImage:L,video:f,embed:u,isYoutubePin:b,isEmbeddedVideo:!!u?.src&&!y&&!e,isGif:y,imgSrc:y&&u?.src?u.src:i.url,...y?{}:{srcSet:I},srcSizes:x,finalLink:l}},[S,k,L,f,u,b,y,I,x,t,m]);return(0,d.jsx)(c,{value:T,children:e})},p=({children:e,pinKey:i,overrideValue:t={}})=>(0,d.jsx)(m,{overrideValue:t,pinKey:i,children:e})},806513:function(e,i,t){t.d(i,{$H:()=>o,$q:()=>b,$u:()=>n,Az:()=>u,Cw:()=>E,D6:()=>c,GZ:()=>x,Ke:()=>y,Lo:()=>l,P2:()=>h,TS:()=>I,Wv:()=>S,ZZ:()=>m,g5:()=>p,jC:()=>r,lX:()=>g,oX:()=>v,qG:()=>f,tG:()=>s,yF:()=>a,yc:()=>_,yt:()=>d});let a=236,n=270,l=157.33333333333334,s=175,o=24,r=4,d=8,c=2,u=8,_=2,m=14,p=16,g=16,h=24,v=16,f=-1,y=2,b=(e=!1,i=!1)=>e?i?g:12:h,S=({defaultItemWidth:e,contentVisibleItemCount:i,gap:t,moduleWidth:a})=>i||a?(a-((Math.ceil(i)+1)*t+8))/i:e,I=(e,i,t)=>{let n=t?3:2,l=i?5:n,o=i?a:s,r=i?v:d,c=o*l+r*l-(i||!i&&t?12:6);if(!e)return c;for(let i=l;i>=2;i-=1)if(e>c)break;else c=o*i+r*i;return c};function x(e){let i=Object.values(e.videos?.video_list??{}).find(e=>"number"==typeof e.width&&"number"==typeof e.height);return i?{width:i.width,height:i.height}:{width:0,height:0}}function E(e){return!!(e&&"is_premiere"in e&&e.is_premiere&&"videos"in e&&e.videos)}},507006:function(e,i,t){t.d(i,{Z:()=>l});var a=t(720459),n=t(774838);let l=({currency:e,maximumFractionDigits:i,minimumFractionDigits:t,shortform:l,shortformMaximumFractionDigits:s,formatStyle:o,uplimit:r,value:d})=>(0,a.Z)()((0,n.B)().locale||"en-US",d,{currency:e,maximum_fraction_digits:i,minimum_fraction_digits:t,shortform:l,shortform_maximum_fraction_digits:s,style:o,uplimit:r})},296339:function(e,i,t){t.d(i,{Z:()=>d});var a,n=t(667294);t(167912);var l=t(183e3),s=t(173922);let o=(void 0!==a||(a=t(562802)).hash&&"bd2991a5190c2f6977d6f49024eb3318"!==a.hash&&console.error("The definition of 'useGetMainPinImage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function r(e,i){return e&&i?`${e} ${i}w`:null}function d({pinKey:e}){let i=(0,l.Z)(o,e),{anyEnabled:t,group:a}=(0,s.Z)(),d=(0,n.useMemo)(()=>i?.images_736x||i?.images_564x||i?.images_orig||i?.images_474x||i?.images_236x,[i]),c=(0,n.useMemo)(()=>{if(!i)return;let e=[r(i.images_736x?.url,i.images_736x?.width),r(i.images_1200x?.url,i.images_1200x?.width),{enabled:null,enabled_564x:r(i.images_564x?.url,i.images_564x?.width),enabled_orig:r(i.images_orig?.url,i.images_orig?.width)}[a]].filter(Boolean);return e.length>1?e.join(", "):void 0},[i,a]),u=t?"100cqw":void 0;return(0,n.useMemo)(()=>({mainPinImage:{url:d?.url||"",height:d?.height||1,width:d?.width||1},srcSet:c,srcSizes:u}),[d,c,u])}},173922:function(e,i,t){t.d(i,{Z:()=>s});var a=t(501010),n=t(774838),l=t(739405);let s=({skipExpActivation:e=!1}={})=>{let{checkExperiment:i}=(0,a.Z)(),t=(0,l.HG)(),{isAuthenticated:s}=(0,n.B)();return s&&t?i("closeup_dweb_adaptive_images",{dangerouslySkipActivation:e}):{anyEnabled:!1,group:""}}},902123:function(e,i,t){t.d(i,{Z:()=>s,q:()=>l});var a=t(667294);let n=()=>{let[e,i]=(0,a.useState)(!1),[t,n]=(0,a.useState)(!1),[l,s]=(0,a.useState)(!1);return{active:e,focused:t,hovered:l,onBlur:()=>{n(!1),i(!1)},onFocus:()=>n(!0),onMouseDown:()=>i(!0),onMouseEnter:()=>s(!0),onMouseLeave:()=>{s(!1),i(!1)},onMouseUp:()=>i(!1)}};function l({children:e}){return e(n())}let s=n},171972:function(e,i,t){t.r(i),t.d(i,{default:()=>c});var a=t(686659),n=t(667294),l=t(399353),s=t(24246),o=t(116321),r=t(495629),d=t(785893);function c(e){(0,n.useEffect)(()=>{(0,a.Z)("PinRepEditButton","/app/www/AuthDesktopPinRep/components/PinRepEditButton.tsx")},[]);let i=(0,s.Z)(),{clientTrackingParams:t,style:c,useLegoStyles:u=!1,usePersistentOneClickSaveStyles:_,wrappingIconStyle:m,shouldUseLegoStyles:p,carouselSlotCurrentIndex:g,component:h,onDelete:v,onSubmit:f,onToggleModal:y,pinId:b,surface:S}=e,[I,x]=(0,n.useState)(!1),{onClick:E,carouselSlotCurrentIndex:L}=(0,r.Z)({carouselSlotCurrentIndexProp:g,component:h,pinId:b,setShowEditModal:x}),P=i.bt("Épingle enregistrée", "Pin Saved", "PinRepEditButton.SavedButtonLabel", undefined, true),k=(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(l.hU,{accessibilityLabel:i.bt("Modifier", "Edit", "edit button on pin", undefined, true),bgColor:c&&c.bgColor||"default",icon:"pencil",iconColor:c&&c.iconColor||"default",onClick:E,size:c&&c.size||"md"}),I&&b&&(0,d.jsx)(o.Z,{carouselSlotCurrentIndex:L,clientTrackingParams:t,onDelete:v,onHide:()=>{x(!1),y?.(!1)},onSubmit:f,pinId:b})]});return p?(0,d.jsx)(l.Fm,{accessibilityLabel:P,color:"primary",dataTestId:"saved-button",onClick:v,selected:!0,size:"VideoCarouselModule"===S?"sm":"lg",text:i.bt("Enregistrée", "Saved", "PinRepEditButton.SavedButton", undefined, true)}):u||_?(0,d.jsx)("div",{"data-test-id":"use-lego-styles-div",style:{...m||{}},children:k}):k}},699549:function(e,i,t){t.d(i,{Z:()=>r});var a=t(686659),n=t(667294),l=t(399353),s=t(171972),o=t(785893);function r(e){(0,n.useEffect)(()=>{(0,a.Z)("SavedStatus","/app/www/common/PinBetterSave/SavedStatus.tsx")},[]);let{clientTrackingParams:i,children:t,currentCarouselIndex:r,hidePinRepEditButton:d=!1,onDeleteSavedState:c,onEditSubmit:u,onToggleModal:_,pinId:m,variant:p,viewParameter:g,shouldUseLegoStyles:h,surface:v}=e;return(0,o.jsxs)(l.xu,{alignItems:"center",direction:"row",display:"flex",maxHeight:"100%",paddingX:"closeup"!==p||h?void 0:2,width:"closeup"===p?"100%":void 0,children:[t&&(0,o.jsx)(l.xu,{"data-test-id":"saved-info",flex:"grow",paddingX:1,children:t}),!d&&(0,o.jsx)(l.xu,{flex:"none",marginStart:"auto",paddingX:1,children:(0,o.jsx)(s.default,{carouselSlotCurrentIndex:r,clientTrackingParams:i,component:0,onDelete:c,onSubmit:u,onToggleModal:_,pinId:m,shouldUseLegoStyles:h,style:"pin"===p?{bgColor:"default",iconColor:"default",size:"sm"}:{bgColor:"transparent",iconColor:"default",size:"sm"},surface:v,useLegoStyles:"pin"===p,viewParameter:g})})]})}},250704:function(e,i,t){t.d(i,{Z:()=>a});function a(e,i){e&&e.includes("~0")&&(e=e.replace("~0",""));let t=i?.includes("~0")?i:`${i||""}~0`;return e&&e.replace("undefined","")?e:t.replace("undefined","")}},908808:function(e,i,t){function a(e,i){return{type:"SECTION_ADDED",payload:{boardId:e,section:i}}}function n(e,i){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:i}}}t.d(i,{HG:()=>n,OQ:()=>l,hd:()=>a});let l=(e,i)=>({type:"BOARD_SECTION_EDIT",payload:i})},66708:function(e,i,t){t.d(i,{Z:()=>c});var a=t(27399),n=t(660322),l=t(329197),s=t(908808),o=t(779686),r=t(679602),d=t(438274);function c({boardId:e,sourceBoardId:i="",sourceSectionId:t="",name:c,nameSource:u,pinImport:_,initialPinIds:m=[]},p,g,h){let v=0;"RECOMMENDATION"===u?v=1:"EDITED_RECOMMENDATION"===u&&(v=2);let f={board_id:e,initial_pins:_&&!_.all?_.pinIds:m,name:c,name_source:v,...g?{orbac_subject_id:g}:Object.freeze({})};return c=>a.Z.create("BoardSectionResource",f).callCreate({showError:!1}).then(({resource_response:{data:a}})=>{h({event_type:7100,object_id_str:a.id}),c((0,s.hd)(e,a)),c((0,o.vX)({feedId:e,feedType:d.Z.BOARD_SECTIONS,itemIds:[a.id],itemType:"boardsection"})),c((0,l.Z)(e,"pin_count")),c((0,n.jB)("BoardSectionsRepinResource",{board_id:e,orbac_subject_id:g}));let{all:u,pinIds:m}=_||{all:!1,pinIds:[]};return u?new Promise((n,l)=>c((0,r.Z)({inverseSelection:!0,selectedPinIds:m,source:{boardId:i||e,sectionId:t||null},target:{boardId:e,sectionId:a.id}},p)).then(()=>n(a)).catch(l)):(m.length>0&&c((0,o.EX)({feedId:e,feedType:d.Z.BOARDFEED,itemIds:m,itemType:"pin"})),a)})}},773382:function(e,i,t){t.d(i,{Z:()=>n});var a=t(233597);function n(e,i){return t=>t((0,a.U)("BoardSectionResource",{options:{field_set_key:i||"board_page",section_id:e}}))}},329197:function(e,i,t){t.d(i,{Z:()=>n});var a=t(233597);function n(e,i,t){return(0,a.U)("BoardResource",{options:{board_id:e,field_set_key:i,...t?{orbac_subject_id:t}:{}}})}},679602:function(e,i,t){t.d(i,{S:()=>m,Z:()=>p});var a=t(27399),n=t(329197),l=t(773382),s=t(779686),o=t(148266),r=t(438274),d=t(382802);let c=e=>i=>{d.Z.showError(function(e,i){switch(e.api_error_code){case 2171:case 2172:case 2173:return i.bt("Veuillez attendre la fin de l’action du tableau précédent.", "Please wait until the previous board action finishes.", " - ", undefined, true);default:return e.message}}(i,e))},u=e=>(0,s.N8)(e.sectionId?r.Z.BOARD_SECTION_PINS:r.Z.BOARDFEED,e.sectionId||e.boardId);function _(e,i){let{source:t,target:a}=e;a.boardId!==t.boardId?(i((0,n.Z)(t.boardId,"pin_count")),i((0,n.Z)(a.boardId,"pin_count"))):t.sectionId&&a.sectionId||i((0,n.Z)(a.boardId,"pin_count")),t.sectionId&&i((0,l.Z)(t.sectionId)),a.sectionId&&i((0,l.Z)(a.sectionId))}function m(e){return i=>{let{selectedPinIds:t,source:a,target:n}=e;i((0,s.EX)({feedId:a.sectionId||a.boardId,feedType:a.sectionId?r.Z.BOARD_SECTION_PINS:r.Z.BOARDFEED,itemIds:t,itemType:"pin"})),i((0,s.vX)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?r.Z.BOARD_SECTION_PINS:r.Z.BOARDFEED,itemIds:t,itemType:"pin"})),t.forEach(e=>{i((0,o.Vp)({pinId:e,boardId:n.boardId,sectionId:n.sectionId||void 0,title:n.name||""}))}),_(e,i)}}function p(e,i){return t=>{let{selectedPinIds:n,target:l}=e;return n.forEach(e=>{t((0,o.Vp)({pinId:e,boardId:l.boardId,sectionId:l.sectionId||void 0,title:l.name||""}))}),(function(e,i,t){let{inverseSelection:n,selectedPinIds:l,source:o,target:d,orbacSubjectId:_}=e;if(o.boardId===d.boardId&&(o.sectionId||null)===(d.sectionId||null))return Promise.reject();if(n){let e={board_id:o.boardId,new_board_id:d.boardId,old_section_id:o.sectionId||void 0,new_section_id:d.sectionId||void 0,pin_ids:l,orbac_subject_id:_};return a.Z.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then(()=>Promise.all([i(u(o)),i(u(d))])).catch(c(t))}{let e=(e,t)=>{i((0,s.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?r.Z.BOARD_SECTION_PINS:r.Z.BOARDFEED,itemIds:l,itemType:"pin"})),i((0,s.vX)({feedId:t.sectionId||t.boardId,feedType:t.sectionId?r.Z.BOARD_SECTION_PINS:r.Z.BOARDFEED,itemIds:l,itemType:"pin"}))};e(o,d);let n=()=>e(d,o);if(d.boardId===o.boardId)if(d.sectionId){let e={section_id:d.sectionId,pins:l,orbac_subject_id:_};return a.Z.create("BoardSectionEditResource",e).callUpdate({showError:!1}).catch(e=>{n(),c(t)(e)})}else{let e={section_id:o.sectionId,pins:l,orbac_subject_id:_};return a.Z.create("BoardSectionPinsResource",e).callDelete({showError:!1}).catch(e=>{n(),c(t)(e)})}{let e={board_id:d.boardId,section_id:d.sectionId||void 0,pin_ids:l,orbac_subject_id:_};return a.Z.create("BulkEditResource",e).callUpdate({showError:!1}).catch(e=>{n(),c(t)(e)})}}})(e,t,i).then(()=>_(e,t))}}},72034:function(e,i,t){function a(e,i){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:i}}}function n(e,i){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:i}}}function l(e){return{type:"PIN_SAVE",payload:e}}function s(e,i){return{type:"PIN_UNSAVE",payload:{id:e,nodeId:i}}}function o(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function r({id:e,nodeId:i}){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1,nodeId:i}}}function d({id:e,text:i,nodeId:t}){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:i,nodeId:t}}}function c({id:e,nodeId:i}){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0,nodeId:i}}}function u({id:e,nodeId:i}){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1,nodeId:i}}}function _(e){return{type:"PIN_SHOW_FEWER_WEIGHT_LOSS_ADS_MODAL",payload:{id:e,value:!0}}}function m(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_FEWER_WEIGHT_LOSS_ADS_MODAL"}}t.d(i,{Gb:()=>s,I1:()=>r,Ib:()=>c,JU:()=>_,Ur:()=>l,Vw:()=>o,au:()=>m,i0:()=>u,mO:()=>n,q1:()=>d,yR:()=>a})},148266:function(e,i,t){function a(e){return{type:"PIN_BETTER_SAVE",payload:e}}function n(e){return{type:"PIN_BETTER_SAVE_CUTOUT",payload:e}}function l(e){return{type:"PIN_BETTER_UNSAVE",payload:e}}function s(e){return{type:"PIN_BETTER_UNSAVE_CUTOUT",payload:e}}function o(e){return{type:"PIN_BETTER_SELECT_BOARD_OR_SECTION",payload:e}}function r(e){return{type:"PIN_BETTER_SELECT_BOARD_CUTOUT",payload:e}}function d(e){return{type:"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN",payload:{boardId:e}}}t.d(i,{ND:()=>d,Vp:()=>o,a1:()=>a,b6:()=>r,jg:()=>l,o4:()=>n,ti:()=>s})},826681:function(e,i,t){t.d(i,{Ge:()=>d,JS:()=>l,P_:()=>s,Q_:()=>_,b8:()=>m,cg:()=>o,h2:()=>c,h6:()=>u});var a=t(47755),n=t(748025);function l(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}let s=(e,i)=>({type:"USER_FOLLOW",payload:{id:e,value:i}}),o=(e,i)=>({type:"USER_FOLLOWING_COUNT",payload:{id:e,following:i}}),r=(e,i)=>({type:"USER_BLOCK",payload:{id:e,value:i}}),d=({id:e,orbacSubjectId:i,blockSource:t,blockContext:n,logContextEvent:l})=>async s=>{s(r(e,!0));let o=await (0,a.Z)({url:"/v3/users/{blocked_user}/block/",urlParams:{blocked_user:e},method:"PUT",data:{orbac_subject_id:i,block_source:t,block_context:n}}).catch(()=>s(r(e,!1)));return l({event_type:54,object_id_str:e}),o},c=(e,i)=>async t=>{t(r(e,!1));let n=await (0,a.Z)({url:"/v3/users/{blocked_user}/block/",urlParams:{blocked_user:e},method:"DELETE"}).catch(()=>t(r(e,!0)));return i({event_type:55,object_id_str:e}),n};function u(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}let _=(e,i)=>()=>(0,a.Z)({url:"/v3/users/state/{state}/",urlParams:{state:e},method:"PUT",data:{value:i}}),m=(e,i,t)=>(l,s)=>{(0,a.Z)({url:"/v3/users/me/",method:"POST"}).then(()=>{t({event_type:48,object_id_str:s().session.userId}),e(),(0,n.Z)()},i)}},116321:function(e,i,t){t.d(i,{Z:()=>g});var a=t(686659),n=t(667294),l=t(77957),s=t(470205),o=t(935059),r=t(501010),d=t(661376),c=t(200619),u=t(601871),_=t(492137),m=t(785893);let p=(0,n.lazy)(()=>Promise.all([t.e("25418"),t.e("85195"),t.e("85607"),t.e("29439")]).then(t.bind(t,73083)));function g(e){(0,n.useEffect)(()=>{(0,a.Z)("EditPinModalLoader","/app/www/save/EditPinModal/EditPinModalLoader.tsx")},[]);let i=(0,c.Z)(),t=(0,o.Z)(),g=(0,u.lJ)(t,i),h=(0,r.Z)(),v=h?.checkExperiment("aid_exp_minified_edit_pin_fixes_2025_11").anyEnabled,f=(0,n.useMemo)(()=>v?(0,_.Tr)(e.pinId,!0,g):void 0,[v,e.pinId,g]),y=(0,d.Z)({name:"PinResource",options:v?f:(0,_.Tr)(e.pinId,!0,g)}),b=(0,n.useMemo)(()=>v&&y.data?{type:"Legacy",data:y.data}:void 0,[v,y.data]);return(0,m.jsx)(s.Z,{name:"SafeSuspense_EditPinModalLoader_EditPinModal",children:(0,m.jsx)(n.Suspense,{children:y?.data?(0,m.jsx)(l.A,{pinKey:v&&b?b:{type:"Legacy",data:y.data},children:(0,m.jsx)(p,{...e,pin:y.data,pinIsLoaded:y.isLoaded})}):null})})}},495629:function(e,i,t){t.d(i,{Z:()=>s});var a=t(581722),n=t(230201),l=t(943152);let s=({pinId:e,carouselSlotCurrentIndexProp:i,component:t,setShowEditModal:s})=>{let o,{logContextEvent:r}=(0,n.u)(),d=(0,l.Z)(),c=(0,a.v9)(({pins:e})=>e),{carousel_data:u}=c&&e&&c[e]||{},{index:_}=u||{};return void 0!==i&&(o=_||i||0),{onClick:({event:e})=>{if(d)return void d();e.stopPropagation(),r({event_type:101,element:3,...t?{component:t}:Object.freeze({})}),s(!0)},carouselSlotCurrentIndex:o}}},492137:function(e,i,t){function a(e){return!!(e&&e.trim().length)}function n(e,i){let t=a(e),n=a(i);return(t||n)&&e!==i}t.d(i,{Tr:()=>l,aU:()=>n});let l=(e,i,t)=>({field_set_key:"detailed",id:e,preserve_component_state:i,...t?{orbac_subject_id:t}:Object.freeze({})})},467514:function(e,i,t){t.d(i,{Z:()=>g});var a,n=t(667294);t(167912);var l=t(763387),s=t.n(l),o=t(399353),r=t(183e3),d=t(24246),c=t(699549),u=t(250704),_=t(902216),m=t(785893);let p=(void 0!==a||(a=t(386248)).hash&&"8aaa3ef306723a6124483dee9e603bd8"!==a.hash&&console.error("The definition of 'SaveButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),g=(0,n.memo)(({clientTrackingParams:e,disabled:i=!1,iconOnly:t,isCloseupPin:a,isJumpStartModal:n=!1,onBoardUpdated:l,onClick:g,onSavedClick:h,onToggleModal:v,onUnsaved:f,renderSavedStatus:y,saveButtonType:b="classic",saved:S,size:I="md",variant:x="classic",viewParameter:E,pinKey:L,ref:P})=>{let k=(0,d.Z)(),T=(0,r.Z)(p,L),{carouselData:w,savedInfo:B}=T||{};return!a&&B&&y&&f&&l&&"classic"===b?(0,m.jsx)(c.Z,{clientTrackingParams:(0,u.Z)(e,T?.trackingParams),currentCarouselIndex:w&&w.index,onDeleteSavedState:f,onEditSubmit:l,onToggleModal:v,pinId:B.localPinId,variant:"pin",viewParameter:E,children:y()}):S&&"classic"===b&&a?(0,m.jsx)(o.zx,{accessibilityLabel:k.bt("Bouton Enregistrer", "Saved button", "saveButton.saved.label", undefined, true),color:"tertiary",fullWidth:!0,onClick:h,size:"md",text:k.bt("Enregistrée !", "Saved!", "saveButton.saved", undefined, true)}):t?(0,m.jsx)(o.xu,{"data-test-id":"SaveButton",children:(0,m.jsx)(o.hU,{accessibilityLabel:k.bt("Enregistrer", "Save", "Accessibility label for the save button", undefined, true),bgColor:"default",icon:"pin",iconColor:"default",onClick:({event:e})=>g(e),size:"md"})}):n?(0,m.jsx)(o.kC,{alignItems:"stretch",justifyContent:"end",children:(0,m.jsx)(o.Fm,{color:"primary","data-test-id":"SaveButton",disabled:i,onClick:({event:e})=>g(e),selected:S||!1,size:I,text:k.bt("Enregistrer", "Save", "PinSaveButton.SaveButton", undefined, true)})}):(0,m.jsx)(o.xu,{display:a?void 0:"flex",justifyContent:"end",children:(0,m.jsx)("div",{ref:P,className:s()("SaveButton",i?"SaveButton--disabled":"SaveButton--enabled",{"SaveButton--lego":"lego"===x}),"data-test-id":"SaveButton",onClick:i?void 0:g,onKeyPress:i?void 0:e=>{(e.charCode===_.Yg||e.charCode===_.K8)&&(e.preventDefault(),g(e))},role:"button",tabIndex:0,children:(0,m.jsx)("div",{className:s()("SaveButton__background",i?"SaveButton__background--disabled":"SaveButton__background--enabled",{"SaveButton__background--lego":"lego"===x}),children:(0,m.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{padding:"10px 14px"}},display:"flex",minHeight:_.S4[I],children:(0,m.jsx)(o.xv,{color:i?"subtle":"inverse",size:"lego"===x?"100":"200",weight:"bold",children:(0,m.jsx)("span",{className:s()("SaveButton__label",{"SaveButton__label--lego":"lego"===x}),children:k.bt("Enregistrer", "Save", "Pin save button label", undefined, true)})})})})})})})},902216:function(e,i,t){t.d(i,{K8:()=>n,S4:()=>l,Yg:()=>a});let a=32,n=13,l={sm:32,md:40,lg:48}},533889:function(e,i,t){t.d(i,{Z:()=>f});var a=t(686659),n=t(667294),l=t(581722),s=t(399353),o=t(104999),r=t(935059),d=t(24246),c=t(514223),u=t(200619),_=t(601871),m=t(201198),p=t(66708),g=t(785893);function h(e,i,t){var a;return(i="symbol"==typeof(a=function(e,i){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,i||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?a:a+"")in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}class v extends n.Component{constructor(e){super(e),h(this,"onCreateSection",()=>{let{board:e,sourceBoard:i,sourceSection:t,dispatch:a,completeCreateSectionAction:n,pinImport:l,viewer:s,orbacActingAs:o,logContextEvent:r}=this.props,d=(0,_.lJ)(s,o);return this.setState({isSaving:!0}),a((0,p.Z)({boardId:e.id,sourceBoardId:i&&i.id,sourceSectionId:t&&t.id,name:this.state.inputName.trim(),pinImport:l},this.props.i18n,d,r)).then(e=>{this.setState({isSaving:!1}),n(e)}).catch(e=>{this.setState({createError:e.message_detail||e.message,isSaving:!1})})}),h(this,"handleKeyDown",({event:e})=>{let{createError:i,inputName:t}=this.state;[c.Z.ENTER,c.Z.NUMPAD_ENTER].includes(e.which)&&!i&&t.trim()&&this.onCreateSection()}),h(this,"handleChangeName",({value:e})=>{this.setState({createError:null,inputName:e})}),h(this,"handleInputRef",e=>{this.setState({inputRef:e})}),this.state={createError:null,inputName:e.initialName||"",inputRef:null,isSaving:!1}}componentDidUpdate(e,i){let{createError:t,inputRef:a}=this.state;a&&(!i.inputRef||t)&&a.focus()}render(){let{showTitle:e,positionRelative:i}=this.props,{createError:t,inputName:a,isSaving:n}=this.state,l=!!a.trim()&&!t;return(0,g.jsxs)(s.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}},direction:"column",display:"flex",flex:"grow",position:i?"relative":"absolute",right:!0,rounding:200,top:!0,width:"100%",children:[e&&(0,g.jsx)(s.xu,{marginTop:3,paddingX:6,paddingY:3,children:(0,g.jsx)(s.qd,{size:"400",children:this.props.i18n.bt("Ajouter un sous-tableau", "Add section", "Title in the add section modal", undefined, true)})}),(0,g.jsxs)(s.xu,{padding:4,children:[(0,g.jsx)(s.xu,{marginBottom:2,children:(0,g.jsx)(s.__,{htmlFor:"sectionEditName",children:(0,g.jsx)(s.xv,{color:t?"error":"subtle",size:"200",children:this.props.i18n.bt("Nom", "Name", "Board section name", undefined, true)})})}),(0,g.jsx)(s.xu,{children:(0,g.jsx)(s.xu,{ref:this.handleInputRef,children:(0,g.jsx)(s.nv,{errorMessage:t||"",id:"sectionEditName",name:"sectionName",onChange:this.handleChangeName,onKeyDown:this.handleKeyDown,placeholder:this.props.i18n.bt("Par exemple « Salon »", "Like \"Lighting\"", "Placeholder for board section name", undefined, true),size:"lg",type:"text",value:a})})})]}),(0,g.jsx)(s.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start"}),(0,g.jsx)(s.xu,{padding:4,children:(0,g.jsx)(s.kC,{alignItems:"stretch",justifyContent:"end",children:(0,g.jsx)(m.Z,{disabled:!l||n,onClick:this.onCreateSection,submitting:n,text:this.props.i18n.bt("Ajouter", "Add", "add a new section", undefined, true)})})})]})}componentDidMount(){(0,a.Z)("CreateSectionPane","/app/www/save/pin-to-board/CreateSectionPane/CreateSectionPane.tsx")}}let f=function(e){let i=(0,l.I0)(),t=(0,d.Z)(),a=(0,r.Z)(),n=(0,u.Z)();return(0,g.jsx)(v,{...e,dispatch:i,i18n:t,logContextEvent:(0,o.Z)(),orbacActingAs:n,viewer:a})}},846960:function(e,i,t){t.d(i,{Z:()=>r});var a=t(686659),n=t(667294),l=t(399353),s=t(99737),o=t(785893);function r({url:e,description:i,color:t}){return(0,n.useEffect)(()=>{(0,a.Z)("ImagelessPinImage","/app/www/save/pin-to-board/ImagelessPinImage/ImagelessPinImage.tsx")},[]),t=t||"#8fa7bf",(0,o.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{background:t}},height:216,rounding:200,width:"100%",children:(0,o.jsxs)(l.xu,{maxHeight:200,overflow:"hidden",padding:4,children:[e&&(0,o.jsx)(l.xu,{marginBottom:2,children:(0,o.jsx)(l.xv,{color:"inverse",size:"100",children:(0,s.Z)(e).hostname||e})}),(0,o.jsx)(l.xu,{maxHeight:144,children:(0,o.jsx)(l.xv,{color:"inverse",overflow:"normal",weight:"bold",children:i})})]})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/48600.fr-a62d81fdc5f5956c.mjs.map