(self.modernJsonp=self.modernJsonp||[]).push([["92262"],{65711:function(e,t,a){a.d(t,{Z:()=>s});var n=a(935059);let s=()=>{let e=(0,n.Z)();return!!e.isAuth&&e.isPartner}},69406:function(e,t,a){a.d(t,{Oz:()=>n,mo:()=>r,nt:()=>i,v8:()=>s});let n={BUSINESS_ACCOUNT:"BUSINESS_ACCOUNT",BUSINESS_HIERARCHY:"BUSINESS_HIERARCHY",USER_ACCOUNT:"USER",AD_ACCOUNT:"AD_ACCOUNT",PROFILE:"PROFILE",CATALOG:"CATALOG"},s="BUSINESS_PANEL",i="ASSET_PANEL",r=500},800287:function(e,t,a){a.d(t,{lG:()=>M,FE:()=>R,NM:()=>N});var n=a(667294),s=a(312048),i=a(65711),r=a(684645),l=a(935059),o=a(501010),c=a(767415),d=a(581722),u=a(917569),_=a(387535),g=a(442279),m=a(498539);let p=(0,g.createSelector)(m.Z,({viewerIsProfileOwnerOrProfileManager:e})=>e??void 0);var h=a(200619),f=a(601871),E=a(414448),A=a(69406),y=a(230201),P=a(213491),C=a(173874),T=a(138482),b=a(341687),v=a(229819),O=a(131990),w=a(520803),I=a(785893);let{Provider:S,get:N}=(0,P.Z)("AccountSwitcherContext"),M=e=>e.search&&(0,b.Z)(e.search).advertiserId,R=({children:e})=>{let t=(0,s.TH)(),{params:{userBizId:a,businessHierarchyId:g,advertiserId:m,username:P}}=(0,w.Z)(),{catalogId:b}=(0,O.Z)(),N=M(t),R=(0,l.Z)(),{viewerIsProfileOwnerOrProfileManagerData:x,previousIsViewerProfileOwnerOrProfileManager:k}=(()=>{let e=(0,l.Z)(),t=(0,n.useRef)(e);t.current=e;let a=(0,d.I0)(),s=(0,h.Z)(),i=(0,n.useRef)(s);i.current=s;let o=(0,d.v9)(p),c=o?.data||void 0,g=(0,n.useRef)(c);g.current=c;let m=(0,u.Z)()();(0,n.useEffect)(()=>{(async()=>{if(t.current.isAuth&&o?.data===void 0&&(!m||i.current.id)){let e=await (0,r.bG)({user_id:t.current.id});if(void 0!==e&&void 0===g.current){let n=(0,f.D3)(t.current,e?.id??"",i)||t.current.isAuth&&t.current.username===e?.username;a((0,_.Z)(!!n))}}})()},[t,g,a,i,o,m]);let A=(0,E.rc)(c);return{viewerIsProfileOwnerOrProfileManagerData:c,previousIsViewerProfileOwnerOrProfileManager:A}})(),{checkExperiment:D}=(0,o.Z)(),G=D("web_m10n_business_access_catalogs").anyEnabled,L=D("web_m10n_bm_mega_nav_improvements").anyEnabled,[z,Z]=(0,n.useState)(""),[U,j]=(0,n.useState)(null),[B,F]=(0,n.useState)(!1),[H,V]=(0,n.useState)(null),W=new URLSearchParams(t.search),[q,$]=(0,n.useState)(W.has("actingBusinessId")?null:{id:R.isAuth&&R.id||"",name:R.isAuth&&R.fullName||"",img:R.isAuth&&R.imageMediumUrl||""}),[X,K]=(0,n.useState)(!1),Y=(0,i.Z)(),{logContextEvent:J}=(0,y.u)(),{accountSwitcherConfig:Q,setConfig:ee}=(()=>{let e=(0,l.Z)(),t=(0,i.Z)(),{checkExperiment:a}=(0,o.Z)(),[s,d]=(0,n.useState)({isReady:!1}),u=(0,n.useCallback)(async({entityId:e,actingBusinessId:n,favorites:s})=>{if(t){let{anyEnabled:t}=a("aid_exp_bes_account_switcher_use_resource");await (0,r.yo)({entityId:e,actingBusinessId:n,favorites:s,useResource:t}),d(e=>{let t={...e,actingBusinessId:n};return s&&(t.favoriteAdAccounts={favoriteAdAccountsMap:{...e.favoriteAdAccounts?.favoriteAdAccountsMap||{},[s.actingBusinessId]:{advertiserId:s.adAccounts}}}),t})}},[t,a]);return(0,n.useEffect)(()=>{t&&e.isAuth&&!s.isReady&&(async()=>{let t=!1,{anyEnabled:n}=a("aid_exp_bes_account_switcher_use_resource");try{let t=await (0,r.SF)({entityId:e.id,useResource:n});d(e=>({...e,...t}))}catch{t=!0}finally{(0,c.nP)("globalAccountSwitcher.getFavoriteAdAccounts",{sampleRate:1,tags:{businessId:e.id,hasError:t}}),d(e=>({...e,isReady:!0}))}})()},[s.isReady,t,a,e]),{accountSwitcherConfig:s,setConfig:u}})();(0,n.useEffect)(()=>{g?Z(g):Z("")},[g]);let et=(0,n.useCallback)(async({id:e,username:t})=>{let a=await (0,r.bG)({user_id:e,username:t});a&&V({type:e?A.Oz.BUSINESS_ACCOUNT:A.Oz.PROFILE,id:e||a.id,name:a.full_name,img:a.image_medium_url,username:t,ownerImg:a.image_medium_url,ownerName:a.full_name,actingBusinessFullName:q?.name||a.full_name}),K(!1)},[q]),ea=(0,E.rc)(P);(0,n.useEffect)(()=>{let e=R.isAuth?R.username:void 0;(0,T.Z)(t)&&H&&ea!==P&&P===e&&(et({username:e}),$({id:R.isAuth&&R.id||"",name:R.isAuth&&R.fullName||"",img:R.isAuth&&R.imageMediumUrl||""}),j({type:A.nt,id:R.isAuth?R.id:void 0}))},[t,ea,et,H,P,R]),(0,n.useEffect)(()=>{let e=async({businessId:e,assetId:a})=>{if(!e)return void K(!1);let n=G&&(0,C.isCatalogsAndProductGroupsPage)(t)?"CATALOG":"AD_ACCOUNT";try{let e={asset:{name:""},type:n};if(R.isAuth){let{data:{data:t={[a]:e}}={}}=await (0,v.pI)({businessId:q?.id||R.id,assetIds:[a],resourceType:n}),s=t[a]?.asset||e.asset,i=t[a]?.type||e.type,r=t[a]&&"owner"in t[a]?t[a].owner:null;V({id:a,name:"CATALOG"===n?r?.full_name||"":s.name,img:r?.image_medium_url||"",type:i,ownerImg:r?.image_medium_url,ownerName:r?.full_name||"",actingBusinessFullName:q?.name||r?.full_name||""})}}catch{V({id:R.isAuth&&R.id||"",name:R.isAuth&&R.fullName||"",img:R.isAuth&&R.imageMediumUrl||"",type:A.Oz.BUSINESS_ACCOUNT,ownerImg:R.isAuth&&R.imageMediumUrl||"",ownerName:R.isAuth&&R.fullName||"",actingBusinessFullName:R.isAuth&&R.fullName||""})}K(!1)},n=async({id:e})=>{let t=await (0,r.p)({hierarchyId:e});V({id:e,name:t?.data?t.data.name:"",img:t?.data?t.data.img_medium_url:"",type:A.Oz.BUSINESS_HIERARCHY,ownerImg:t?.data?t.data.img_medium_url:"",ownerName:t?.data?t.data.name:"",actingBusinessFullName:t?.data?t.data.name:""}),K(!1)};if(R.isAuth&&Y){let s=H&&H.username&&H.username!==P,i=!0===x&&x!==k,r=((0,C.isPinPage)(t)||(0,C.isPinBuilderPage)(t)||(0,C.isStoryPinBuilderPage)(t)||(0,C.isSearchPage)(t))&&H&&q&&H.type===A.Oz.PROFILE&&H.id===q.id;if((!H||s||i)&&!X&&!r&&q){let s=(0,C.isBusinessManagerPage)(t)||(0,C.isBusinessHubPage)(t),i=m||!!N&&!s||(0,C.isCatalogsAndProductGroupsPage)(t)&&G;K(!0),g?n({id:g}):a?et({id:a}):L&&q.id&&!(m||N)?et({id:q.id}):(0,T.Z)(t)&&P&&x?et({username:P}):i?e({businessId:R.id,assetId:m||N||b||""}):H&&H.id===R.id||(V({type:A.Oz.BUSINESS_ACCOUNT,id:R.id||"",name:R.fullName||"",img:R.imageMediumUrl||"",ownerImg:R.imageMediumUrl||"",ownerName:R.fullName||"",actingBusinessFullName:R.fullName||""}),K(!1))}}},[H,R,g,a,P,m,N,q,Y,t,et,X,x,k,b,G,L]);let en=(0,n.useMemo)(()=>({activePanel:U,selectedHierarchyId:z,switcherOpen:B,openAccountSwitcher:()=>{if(J({event_type:101,view_type:608,component:14346}),!U)if((0,C.isBusinessManagerPage)(t))j({type:A.v8});else{let e=new URLSearchParams(t.search).get("actingBusinessId");j({type:A.nt,id:e??q?.id})}F(!0)},closeAccountSwitcher:()=>{j(H&&!(0,C.isBusinessManagerPage)(t)?{type:A.nt,id:q?.id}:{type:A.v8}),F(!1)},openAssetPanel:e=>{j({type:A.nt,id:e})},closeAssetPanel:()=>{j(H&&!(0,C.isBusinessManagerPage)(t)?{type:A.nt,id:q?.id}:{type:A.v8})},activateBusinessPanel:()=>{j({type:A.v8})},actingBusiness:q,selectedAccount:H,setSelectedAccount:V,setActingBusiness:$,accountSwitcherConfig:Q,setConfig:ee}),[U,z,B,q,H,Q,ee,J,t]);return(0,I.jsx)(S,{value:en,children:e})}},684645:function(e,t,a){a.d(t,{IT:()=>c,SF:()=>g,WP:()=>d,bG:()=>_,p:()=>u,yo:()=>m});var n=a(731517),s=a(861241),i=a(27399),r=a(69406),l=a(47755),o=a(109563);let c=e=>({id:e.id,entity_type:r.Oz.BUSINESS_ACCOUNT,requires_mfa_for_roles:e.requires_mfa_for_roles,user:{id:e.user.id,entity_type:r.Oz.USER_ACCOUNT,username:e.user.username,email:e.user.email,full_name:e.user.full_name,image_small_url:e.user.image_small_url,image_medium_url:e.user.image_medium_url}}),d=e=>({id:e.id,entity_type:r.Oz.BUSINESS_ACCOUNT,user:{id:e.id,entity_type:r.Oz.USER_ACCOUNT,username:e.username,email:e.email,full_name:e.fullName,image_small_url:e.imageSmallUrl,image_medium_url:e.imageMediumUrl}}),u=async({hierarchyId:e})=>(await (0,l.Z)({url:"/ads/v4/business_access/business_hierarchy/{business_hierarchy_lookup_id}",urlParams:{business_hierarchy_lookup_id:e}})).resource_response,_=async({user_id:e,username:t})=>{if(!t&&!e)return null;let{resource_response:{data:a}}=await i.Z.create("UserResource",{user_id:e,username:t}).callGet();return a},g=async({entityId:e,useResource:t=!1})=>{let a;if(t){let t=await (0,l.Z)({url:"/ads/v4/business_entities",method:"POST",data:[{entity_type:"BIZ_USER",entity_id:e,property_keys:["GLOBAL_ACCOUNT_SWITCHER_CONFIG"]}]}),n=t.resource_response?.data;a=n?.[0]}else a=(await (0,n.Z)([{entity_type:"BIZ_USER",entity_id:e,property_keys:["GLOBAL_ACCOUNT_SWITCHER_CONFIG"]}]))[0];return a&&a.properties&&a.properties.GLOBAL_ACCOUNT_SWITCHER_CONFIG||{}},m=async({entityId:e,actingBusinessId:t,favorites:a,useResource:n=!1})=>{let i={};(0,o.k)(t)||(i.actingBusinessId=t),a&&(i.favoriteAdAccounts={favoriteAdAccountsMap:{[a.actingBusinessId]:{advertiserId:a.adAccounts}}}),Object.keys(i).length>0&&(n?await (0,l.Z)({url:"/ads/v4/business_entities",method:"PATCH",data:[{entity_type:"BIZ_USER",entity_id:e,properties:{GLOBAL_ACCOUNT_SWITCHER_CONFIG:i}}]}):await (0,s.Z)([{entity_type:"BIZ_USER",entity_id:e,properties:{GLOBAL_ACCOUNT_SWITCHER_CONFIG:i}}]))}},241879:function(e,t,a){a.d(t,{Li:()=>i,Wz:()=>r,qJ:()=>s,qY:()=>n});let n=40,s=48,i=80,r={INVALID_USER:0,ADMIN:1,READ_ONLY:2}},680405:function(e,t,a){a.d(t,{E:()=>n,N:()=>s});let{Provider:n,get:s}=(0,a(213491).Z)("legacyServerContext")},400962:function(e,t,a){a.d(t,{aX:()=>_,nK:()=>g,ou:()=>c});var n=a(667294),s=a(312048),i=a(213491),r=a(520803),l=a(785893);let{Provider:o,get:c}=(0,i.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),d=e=>e&&e.pathname?e.pathname+(e.search||""):"";function u(e,t){let a={action:t.type,location:t.location,match:t.match};if(t.location===e.current?.location)return e;switch(t.type){case"POP":if(e.forward.length>0&&d(e.forward[0].location)===d(a.location))return{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};return{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:a,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:a};default:return e}}function _(){let{current:e,previous:t}=c();return(0,n.useMemo)(()=>e?t.concat(e):t,[e,t])}function g({children:e}){let t=(0,s.ur)(),a=(0,s.TH)(),i=(0,r.Z)(),[c,d]=(0,n.useReducer)(u,{forward:[],current:{action:t,location:a,match:i},previous:[]}),_=(0,n.useRef)(a),g=(0,n.useRef)(i);return(_.current!==a||g.current!==i)&&(d({type:t,location:a,match:i}),_.current=a,g.current=i),(0,l.jsx)(o,{value:c,children:e})}},219162:function(e,t,a){a.d(t,{Z:()=>r});var n=a(505633),s=a(935833),i=a(426775);let r=(e,t)=>{t?.disableOriginCheck||(0,i.Z)(e)||(e="/",(0,s.My)("url_reset")),(0,n.Z)(e)}},562400:function(e,t,a){a.d(t,{Z:()=>n});function n(e,t,a){let n,s,i,r=!!a?.leading,l=a?.trailing!==!1,o=a?.maxWait?Math.max(a.maxWait,t):void 0,c=null,d=0;function u(t){let a=n;return n=void 0,d=t,a&&(s=e(...a)),s}function _(e){let a=e-(i??0),n=e-d;return void 0===i||a>=t||a<0||void 0!==o&&n>=o}function g(){let e=Date.now();_(e)?(c=null,l&&n)?u(e):n=void 0:c=setTimeout(g,function(e){let a=e-(i??0),n=e-d,s=t-a;return void 0!==o?Math.min(s,o-n):s}(e))}function m(){null!==c&&clearTimeout(c),c=setTimeout(g,t)}function p(...e){let a=Date.now(),l=_(a);if(n=e,i=a,l){if(null===c)return d=a,c=setTimeout(g,t),r?u(a):s;else if(void 0!==o)return m(),u(a)}return null===c&&m(),s}return p.flush=function(){if(null!==c&&n){let e=Date.now();return clearTimeout(c),c=null,u(e)}return s},p.cancel=function(){null!==c&&clearTimeout(c),d=0,n=void 0,i=void 0,c=null},p}},483359:function(e,t,a){a.d(t,{Z:()=>I});var n=a(667294),s=a(966502),i=a(27399),r=a(4533),l=a(230201),o=a(470967),c=a(127078),d=a(498895),u=a(991166),_=a(384696),g=a(990898),m=a(424868),p=a(478559),h=a(637539),f=a(501010),E=a(552764),A=a(165927),y=a(856639),P=a(959708),C=a(34550),T=a(935833),b=a(11908),v=a(278277),O=a(178355),w=a(767415);function I(){let e=(0,p.hq)(),t=(0,E.Z)(),{logContextEvent:a}=(0,l.u)(),I=(0,b.Z)(),S=(0,f.Z)(),N=(0,g.Z)(),M=(0,c.EJ)();return(0,n.useCallback)(async({creds:n,isAccountSwitch:l,loggingOptions:{loggingData:c={},loginAttemptContextEvent:g},recaptchaV2Token:p,recaptchaV3Token:f,fingerprintData:E})=>{t();let b=!!(n.facebook_autologin||n.autologin),R=(0,h.eD)(n),x=e=>{let t=n.google_open_id_token?"google":"facebook";b&&(0,T.dy)({event:e,provider:t})},k=e=>{b||(0,T.EX)({event:e,provider:(0,h.nY)(n)})},D=e=>{a({...g,event_type:e,aux_data:{...g.aux_data,upsell_reason:g.aux_data?.upsell_reason||(b?"autologin":(0,C.M0)().getItem(r.bg)),upsell_view_count:(0,C.M0)().getItem(r.w0)??0}}),7536===e&&((0,C.M0)().setItem(r.V6,(0,h.nY)(n)),(0,C.M0)().setItem(r.w0,0))};if(D(7534),I({action:b?"autologin":"login",event:"attempt",trigger:c.trigger,type:R}),x("login_api_call_start"),k("login_api_call_start"),"email"===R&&await (0,_.Lq)({fingerprintData:E,source:u.Ef.LOGIN,logContextEvent:a}))return Promise.reject({isArkoseChallengeRequired:!0});let G=c?.component??"unspecified",L=c?.container??"unspecified_container",z=`${L}.${G}`,Z=(0,v.O)(),U=7===e.appType?7:5;return i.Z.create("UserSessionResource",(0,_.NW)({...n,...Z?{referrer:Z}:Object.freeze({}),get_user:n.get_user||n.switch_account&&l,app_type_from_client:U,visited_pages_before_login:JSON.stringify(M)||null,recaptchaV2Token:p,recaptchaV3Token:f,fingerprintData:E,ui_component:z,handler:(0,O.H)()})).callCreate({showError:!1,async:!0}).then(e=>{let{country:t,country_from_hostname:a,country_from_ip:i,region_from_ip:r}=e?.client_context||Object.freeze({});return e?.auxData?.x_pinterest_sli_endpoint_name==="v3_login_mfa_resend"||((e=>{let t="referrer_unknown";try{let e=document.referrer;t=e?e.indexOf("/t.co/")>-1?"twitter":e.indexOf("google.")>-1?"google":e.indexOf("bing.")>-1?"bing":e.indexOf("facebook.")>-1?"facebook":"other":"direct"}catch(e){}let a=c===Object(c)?c.container:"container_unknown";(0,T.My)("login.referrer."+t+"."+R),(0,T.My)("login.container."+String(a)+"."+R),(0,T.My)("login.type."+R);let s=R||"method_unknown",i=c.page||"page_unknown";n.facebook_autologin?((0,T.My)("web_autologin_facebook"),(0,T.My)("new_web_autologin_facebook",{page:i,referrer:t,container:a})):((0,T.My)(`web_login.${s}.success.${i}.${String(a)}.${t}.tier1`),(0,w.nP)(`web_login.${s}.success.${i}.${String(a)}.${t}.tier1`),(0,T.My)(`new_web_login.${s}.success`,{page:i,referrer:t,container:a})),(0,A.ko)({country:e?.country,countryFromHostName:e?.countryFromHostName,countryFromIp:e?.countryFromIp,regionFromIp:e?.regionFromIp,deviceType:"Desktop",eventCategory:"Logins"}),D(7536),I({action:b?"autologin":"login",event:"success",trigger:c&&c.trigger,type:R})})({country:t,countryFromHostName:a,countryFromIp:i,regionFromIp:r}),x("login_api_call_success"),k("login_api_call_success"),(0,d.B)(!1),N(),o.zN(s.e7.name),o.zN(s.x3.name),S.checkExperiment("web_install_sw_on_unauth_landing").anyEnabled)?Promise.resolve(e):(0,P.Z)("login").then(()=>e)},e=>((({error:e})=>{if(!e)return;let t=e.http_status===y.Ej?y.Ej:e.api_error_code,a=t;t&&m.qF.has(t)&&(a=m.qF.get(t));let{container:n,trigger:s}=c;(0,T.My)(`unauth_web_client_login_api_error.${String(a)}.${n||"unknow_container"}.${R}`,{apiErrorCode:t,container:n,errorDescription:a,httpStatus:e.http_status,message:e.message?.toString()}),D(7535),I({action:b?"autologin":"login",event:"fail",trigger:s,type:R})})({error:e}),x("login_api_call_failure"),k("login_api_call_failure"),Promise.reject(e)))},[t,I,a,e.appType,M,N,S])}},498895:function(e,t,a){a.d(t,{B:()=>r,a:()=>i});var n=a(4533),s=a(34550);let i=()=>!!s.ZP.getItem(n.WM),r=e=>{s.ZP.setItem(n.WM,!!e)}},995514:function(e,t,a){a.d(t,{Z:()=>r});var n=a(375181),s=a(24246),i=a(216975);function r(){let e=(0,s.Z)();return function(t,a){let s=new Date(t).getTime(),r=Date.now()-s,l=Math.floor(r/n.FS),o=Math.floor(r/n.UK),c=Math.floor(r/n.F4),d=Math.floor(r/n.VL),u=Math.floor(r/n.N9),_=Math.floor(r/n.N1),g=e.nbt(["Il y a {{ minutes }} minute", "Il y a {{ minutes }} minutes"], l, " - ", true),m=e.nbt(["Il y a {{ hours }} heure", "Il y a {{ hours }} heures"], o, " - ", true),p=e.nbt(["Il y a {{ days }} jour", "Il y a {{ days }} jours"], c, " - ", true),h=e.nbt(["Il y a {{ weeks }} semaine", "Il y a {{ weeks }} semaines"], d, " - ", true),f=e.nbt(["Il y a {{ months }} mois", "Il y a {{ months }} mois"], u, "useGetHumanizedTimeSince.monthsString", true),E=e.nbt(["Il y a {{ years }} an", "Il y a {{ years }} ans"], _, " - ", true),A=e.nbt(["{{ minutes }} min", "{{ minutes }} min"], l, "minutes ago abbreviated", true),y=e.nbt(["{{ hours }} h", "{{ hours }} h"], o, "hours ago abbreviated", true),P=e.nbt(["{{ days }} j", "{{ days }} j"], c, "days ago abbreviated", true),C=e.nbt(["{{ weeks }} sem", "{{ weeks }} sem"], d, "weeks ago abbreviated", true),T=e.nbt(["{{ months }} mois", "{{ months }} mois"], u, "months ago abbreviated", true),b=e.nbt(["{{ years }} an", "{{ years }} ans"], _, "years ago abbreviated", true);return _>0?(0,i.nk)(a?b:E,{years:_}).join(""):u>0?(0,i.nk)(a?T:f,{months:u}).join(""):d>0?(0,i.nk)(a?C:h,{weeks:d}).join(""):c>0?(0,i.nk)(a?P:p,{days:c}).join(""):o>0?(0,i.nk)(a?y:m,{hours:o}).join(""):l>0?(0,i.nk)(a?A:g,{minutes:l}).join(""):e.bt("À l’instant", "Just now", " - ", undefined, true)}}},33259:function(e,t,a){a.d(t,{A:()=>T,t:()=>C});var n=a(667294),s=a(312048),i=a(104999),r=a(213491),l=a(686659),o=a(399353),c=a(465784),d=a(24246),u=a(739405),_=a(353638),g=a(785893);function m({onClose:e,handleSubmit:t,currentViewParameter:a,currentComponent:s,isOpen:r}){(0,n.useEffect)(()=>{(0,l.Z)("ParentalPasscodeSkipAcknowledgeModal","/app/packages/parentalPasscode/ValidationModal/ParentalPasscodeSkipAcknowledgeModal.tsx")},[]);let m=(0,d.Z)(),p=(0,i.Z)(),h=(0,u.HG)(),f=m.bt("Bouton Ignorer le modal", "Dismiss modal button", "settings.ParentalPasscodeSkipAcknowledgeModal.dismissIconButton", undefined, true),E=m.bt("Annuler", "Cancel", "settings.ParentalPasscodeSkipAcknowledgeModal.cancelButton", undefined, true),A=m.bt("Modifier", "Update", "settings.ParentalPasscodeSkipAcknowledgeModal.updateButton", undefined, true),y=m.bt("Mettre à jour ce paramètre ?", "Update this setting?", "settings.ParentalPasscodeSkipAcknowledgeModal.heading", undefined, true),P=m.bt("Il se peut que vous ayez besoin d’un code parental pour apporter des modifications à ce paramètre à l’avenir", "You may require parental passcode for future changes to this setting", "settings.ParentalPasscodeSkipAcknowledgeModal.subHeading2", undefined, true);(0,n.useEffect)(()=>{a&&s&&p({event_type:13,view_type:7,view_parameter:4004,component:14971})},[a,s,p]);let C=()=>{p({event_type:15423,view_type:7,view_parameter:4004,component:14971}),t("")},T=()=>{p({event_type:15424,view_type:7,view_parameter:4004,component:14971}),e()};return(0,g.jsx)(n.Fragment,{children:h?(0,g.jsx)(c.ZP,{accessibilityModalLabel:m.bt("Modal de validation du code d’accès parental", "Parental Passcode Validate Modal", "settings.ParentalPasscodeSkipAcknowledgeModal.accessibilityLabel", undefined, true),align:"start",closeOnOutsideClick:!0,footer:(0,g.jsxs)(o.kC,{alignItems:"center",justifyContent:"end",children:[(0,g.jsx)(o.xu,{paddingX:1,children:(0,g.jsx)(o.zx,{onClick:T,size:"lg",text:E})}),(0,g.jsx)(o.xu,{flex:"shrink",paddingX:1,children:(0,g.jsx)(o.zx,{color:"primary",dataTestId:"parental-passcode-update-button",fullWidth:!h,onClick:C,size:"lg",text:A})})]}),heading:(0,g.jsxs)(o.kC,{justifyContent:"between",children:[(0,g.jsxs)(o.kC,{alignItems:"start",direction:"column",gap:{row:0,column:2},children:[(0,g.jsx)(o.qd,{accessibilityLevel:1,align:"start",size:"600",children:y}),(0,g.jsx)(o.xv,{children:P})]}),(0,g.jsx)(o.hU,{accessibilityLabel:f,bgColor:"default",icon:"close",iconColor:"default",onClick:T,size:"lg"})]}),isOpen:r,mobileAccessibilityCloseIconLabel:f,mobileIsFullscreen:!0,mobileIsSlideUp:!0,onDismiss:T,size:656}):(0,g.jsx)(_.Z,{description:P,heading:y,isOpen:r,onDismiss:T,primaryBtnParams:{text:E,color:"secondary",onClick:T},secondaryBtnParams:{text:A,color:"primary",onClick:C},type:"request-data"})})}var p=a(216975),h=a(236906),f=a(428785),E=a(247387),A=a(496883);function y({onClose:e,handleSubmit:t,errorMessage:a,currentViewParameter:r,currentComponent:_}){(0,n.useEffect)(()=>{(0,l.Z)("ParentalPasscodeValidateModal","/app/packages/parentalPasscode/ValidationModal/ParentalPasscodeValidateModal.tsx")},[]);let m=(0,d.Z)(),y=(0,i.Z)(),P=(0,u.HG)(),C=(0,s.TH)(),{getSingleValidator:T}=(0,f.Z)(""),b=T("passcode"),[v,O]=(0,n.useState)(!1),[w,I]=(0,n.useState)(!1),[S,N]=(0,n.useState)({value:"",error:void 0}),[M,R]=(0,n.useState)(),x=m.bt("Bouton Ignorer le modal", "Dismiss modal button", "settings.parentalPasscodeValidateModal.dismissIconButton", undefined, true),k=m.bt("Code d’accès parental \nrequis", "Parental passcode required", "settings.parentalPasscodeValidateModal.heading", undefined, true),D=(0,p.nk)(m.bt("Saisissez votre mot de passe à quatre chiffres pour effectuer cette modification. Vous avez oublié votre mot de passe ? {{ visitHelpCenter }}", "Enter your 4-digit passcode to make this change. Forgot it? {{ visitHelpCenter }}", "settings.parentalPasscodeValidateModal.subHeading", undefined, true),{visitHelpCenter:(0,g.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,g.jsx)(o.rU,{display:"inlineBlock",href:E.a$N,onClick:({event:e})=>{e.stopPropagation(),r&&_&&y({event_type:102,view_type:7,view_parameter:r,element:12765,component:_})},target:"blank",underline:"hover",children:m.bt("Consultez notre Centre d’aide.", "Visit our help center.", "settings.parentalPasscodeModal.subHeading.learnMore", undefined, true)})},"learnMore")});(0,n.useEffect)(()=>{r&&_&&y({event_type:13,view_type:7,view_parameter:r,component:_})},[r,_,y]),(0,n.useEffect)(()=>{O(!!S.value&&!S.error)},[S]);let G=(0,n.useCallback)(()=>{y({event_type:14590,view_type:7,view_parameter:r,component:14374})},[r,y]);(0,n.useEffect)(()=>{let e=C.pathname.replace(/\/$/,"");a&&"/parental-passcode"!==e&&"/settings/account-settings"!==e&&(G(),I(!1)),R(a)},[a,G,C.pathname]);let L=()=>{w||(r&&_&&y({event_type:P?101:102,view_type:7,view_parameter:r,component:_,element:11925}),e())};return(0,g.jsx)(c.ZP,{accessibilityModalLabel:m.bt("Modal de validation du code d’accès parental", "Parental Passcode Validate Modal", "settings.parentalPasscodeValidateModal.accessibilityLabel", undefined, true),align:"start",closeOnOutsideClick:!w,footer:(0,g.jsxs)(o.kC,{alignItems:"center",justifyContent:P?"end":"center",children:[P?(0,g.jsx)(o.xu,{paddingX:1,children:(0,g.jsx)(o.zx,{disabled:w,onClick:L,size:"lg",text:m.bt("Fermer", "Close", "settings.parentalPasscodeValidateModal.closeButton", undefined, true)})}):null,(0,g.jsx)(o.xu,{flex:P?"shrink":"grow",marginBottom:4*!P,paddingX:P?1:4,children:(0,g.jsx)(o.zx,{color:"primary",dataTestId:"parental-passcode-enter-button",disabled:!v||w,fullWidth:!P,onClick:()=>{I(!0),r&&_&&y({event_type:P?101:102,view_type:7,view_parameter:r,component:_,element:12019}),t(S.value),I(!1)},size:"lg",text:m.bt("Entrer", "Enter", "settings.parentalPasscodeValidateModal.enterButton", undefined, true)})})]}),heading:P?(0,g.jsxs)(o.kC,{justifyContent:"between",children:[(0,g.jsxs)(o.kC,{alignItems:"start",direction:"column",gap:{row:0,column:2},children:[(0,g.jsx)(o.qd,{accessibilityLevel:1,align:"start",size:"600",children:k}),(0,g.jsx)(o.xv,{children:D})]}),(0,g.jsx)(o.hU,{accessibilityLabel:x,bgColor:"default",icon:"close",iconColor:"default",onClick:L,size:"lg"})]}):(0,g.jsx)(o.qd,{accessibilityLevel:"none",align:"center",size:"300",children:m.bt("Code d’accès parental", "Parental passcode", "settings.parentalPasscodeValidateModal.headingMobile", undefined, true)}),isOpen:!0,mobileAccessibilityCloseIconLabel:x,mobileIsSlideUp:!0,onDismiss:L,size:656,children:(0,g.jsx)(o.xu,{paddingX:P?6:4,paddingY:3,children:(0,g.jsxs)(o.kC,{alignItems:"center",direction:"column",justifyContent:P?"start":"center",children:[P?null:(0,g.jsx)(o.xu,{marginBottom:7,maxWidth:325,children:(0,g.jsxs)(o.kC,{alignItems:"center",direction:"column",children:[(0,g.jsx)(o.xu,{marginBottom:6,children:(0,g.jsx)(o.qd,{accessibilityLevel:2,align:"center",size:"600",children:k})}),(0,g.jsx)(o.xv,{align:"center",children:D})]})}),(0,g.jsxs)(o.xu,{marginBottom:4*!P,position:"relative",width:"100%",children:[(0,g.jsx)(o.nv,{autoComplete:"off",dataTestId:"parental-passcode-input",errorMessage:S.error||M,id:"passcode",label:m.bt("Saisissez un mot de passe à quatre chiffres", "Enter a 4-digit code", "settings.parentalPasscodeValidateModal.passcodeLabel", undefined, true),labelDisplay:P?"visible":"hidden",name:"passcode",onChange:({value:e})=>(e=>{let t=e.replace(/\s/g,"");if(e.length>4)return;let a=(0,A.a3)(t,b);M&&R(void 0),N({value:e,error:a})})(e),placeholder:"XXXX",size:"lg",type:"text",value:S.value}),w?(0,g.jsx)(h.Z,{accessibilityLabel:m.bt("Validation du code d’accès parental", "Validating Parental passcode", "settings.parentalPasscodeModal.loadingI18nLabel", undefined, true)}):null]})]})})})}let{Provider:P,get:C}=(0,r.Z)("ParentalPasscodeValidateModal"),T=({children:e})=>{let t=(0,i.Z)(),a=(0,s.TH)(),[r,l]=(0,n.useState)(!1),[o,c]=(0,n.useState)(),[d,u]=(0,n.useState)(),[_,p]=(0,n.useState)(void 0),[h,f]=(0,n.useState)([]),E=a.pathname.replace(/\/$/,""),A="/parental-passcode"===E||"/settings/account-settings"===E,[C,T]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if(!r)return;let e=E.startsWith("/settings/messages")?3709:({"/settings/profile-visibility":3907,"/settings/permissions":3709,"/settings/edit/mentions":3709,"/settings/privacy":3707,"/settings/account-settings":3669,"/settings/edit/email":3669,"/settings/edit/password":3669,"/parental-passcode":3860})[E],t=A?14456:14374;u(e),c(t)},[r,E,A]);let b=(0,n.useCallback)(e=>{p(void 0),h.map(t=>t(e||""))},[h]),v=(0,n.useCallback)(({handlePasscodeSent:e,requiresUnidirectionalPasscode:t=!1})=>{f(t=>[...t,e]),T(t),l(!0)},[]),O=(0,n.useCallback)(e=>{p(e)},[]),w=(0,n.useCallback)(()=>{u(void 0),c(void 0),f([]),p(void 0),l(!1)},[]),I=(0,n.useCallback)(e=>{e&&!A&&t({event_type:14591,view_type:7,view_parameter:d,component:14374}),w()},[w,d,t,A]),S=(0,n.useMemo)(()=>({handleSubmit:b,errorMessage:_,onClose:w,currentViewParameter:d,currentComponent:o,isOpen:r}),[b,_,w,d,o,r]),N=(0,n.useMemo)(()=>({getModalProps:S,closeModal:I,isModalOpen:r,setErrorMessage:O,setModalPropsAndOpen:v}),[S,I,r,O,v]);return(0,g.jsxs)(n.Fragment,{children:[(0,g.jsx)(P,{value:N,children:e}),r?C?(0,g.jsx)(m,{...S}):(0,g.jsx)(y,{...S}):null]})}},428785:function(e,t,a){a.d(t,{Z:()=>i});var n=a(24246),s=a(496883);function i(e){let t=(0,n.Z)(),a=(0,s.aH)({message:t.bt("Obligatoire", "Required", "parentalPasscodeValidators.requiredField", undefined, true)}),i=(0,s.GT)({message:t.bt("Veuillez saisir une adresse e-mail valide", "Please enter a valid email address", "parentalPasscodeValidators.enterValidEmail", undefined, true)}),r=(0,s.qA)({message:t.bt("Utilisez des chiffres uniquement", "Please only use numbers", "parentalPasscodeValidators.enterNumbers", undefined, true)}),l=t.bt("Saisissez quatre chiffres", "Please enter four digits", "parentalPasscodeValidators.enterFourDigits", undefined, true),o=(0,s.Gy)({min:4,max:4,minErrorString:l,maxErrorString:l}),c={passcode:[a,r,o],confirmPasscode:[a,r,o],backupEmail:[a,i,a=>{let n=[];return a===e&&n.push(t.bt("Cette adresse e-mail est déjà utilisée pour ce compte Pinterest.", "This email address is already used for this Pinterest account.", "parentalPasscodeValidators.enterNotCurrentEmail", undefined, true)),{errors:n,warnings:[]}}],confirmBackupEmail:[a,i]},d=(e,a)=>{switch(e){case"confirmPasscode":return(0,s.sG)({targetValue:a.passcode.value,message:t.bt("Assurez-vous que vos codes d’accès sont identiques", "Please make sure your passcodes match", "parentalPasscodeValidators.enterMatchingPasscodes", undefined, true)});case"confirmBackupEmail":return(0,s.sG)({targetValue:a.backupEmail.value,message:t.bt("Assurez-vous que vos adresses e-mail sont identiques", "Please make sure your email addresses match", "parentalPasscodeValidators.enterMatchingEmails", undefined, true)});default:return()=>({errors:[],warnings:[]})}};return{getSingleValidator:e=>c[e],getValidators:(e,t)=>[...c[e],d(e,t)],getMatchingValidator:d}}},478559:function(e,t,a){a.d(t,{aU:()=>r,hq:()=>i,o_:()=>n});let{Provider:n,get:s}=(0,a(213491).Z)("AuthenticationContext");function i(){return s().loginContext}function r(){return s().logout}},408660:function(e,t,a){a.d(t,{Fm:()=>r,OY:()=>o,PL:()=>d,Px:()=>l,mK:()=>u,ru:()=>c});var n=a(877904),s=a(247387),i=a(935833);let r=()=>window?.google?.accounts?.id,l=(e,t)=>(0,n.Z)("https://accounts.google.com/gsi/client"+(t?`?hl=${t}`:""),e?.unsafe?null:"GSI"),o=({autoSelect:e,useContinueForContext:t,useFedCMForButton:a},n)=>{let i={auto_select:e??!1,button_auto_select:a??!1,client_id:s.v3o,callback:n,cancel_on_tap_outside:!1,context:t?"continue":"use",itp_support:!0,use_fedcm_for_prompt:!0,use_fedcm_for_button:a??!1};r()?.initialize(i)},c=({buttonRef:e,isDesktop:t,locale:a,logo_alignment:n,onClick:s,onTouch:l})=>{let o=r();if(o&&e.current){let t=e.current.offsetWidth;o.renderButton(e.current,{locale:a,size:"large",shape:"rectangular",text:"continue_with",theme:"outline",width:t+"px",logo_alignment:n,click_listener:()=>{s&&s(),l&&l(),(0,i.EX)({event:"start",provider:"google"})}})}else(0,i.My)((t?"unauth_web":"unauth_mweb")+".gsi_button.not_initialized")},d=e=>"auto"===e||"fedcm_auto"===e?"AUTO_LOGIN":e.startsWith("btn")||e.startsWith("fedcm_button")?"SIGN_IN_WITH_GOOGLE_BUTTON":"ONE_TAP_PROMPT",u=e=>{switch(e){case"SIGN_IN_WITH_GOOGLE_BUTTON":return"gsi_btn";case"ONE_TAP_PROMPT":return"onetap_btn";default:return"other"}}},637539:function(e,t,a){a.d(t,{Ny:()=>u,ZP:()=>g,eD:()=>p,lp:()=>m,nY:()=>h});var n=a(4533),s=a(219162),i=a(413220),r=a(34550),l=a(247387),o=a(935833),c=a(925201),d=a(629724);let u=Object.freeze({SOFT_BANNED:0,RATE_LIMITED:1,LOGIN_ASSISTANCE:2,PASSWORD_RESET_SENT:3,PREVENT_GOOGLE_REGISTER:5,SUSPENDED:6,LOGIN_GOOGLE:7});class _{static defaultLoginRedirectUrl(){return window.location.pathname===l.lfe||window.location.pathname===l.ZEf||window.location.pathname.startsWith("/add-account")?"/":window.location.pathname+window.location.search}static defaultSocialLoginRedirectUrl(){return window.location.pathname.startsWith("/add-account")?"/":window.location.pathname}static isExceedRecaptchaLocalLimit(){let e=r.ZP.getItem(n.kl);if(e&&e.indexOf("|")>-1){let t=e.split("|");return 3===t.length&&new Date().getTime()/1e3-parseInt(t[0],10)<=3600}return!1}static updateRecaptchaTimeStamp(){let e=r.ZP.getItem(n.kl),t=[];e&&3===(t=e.split("|")).length&&t.shift();let a=(new Date().getTime()/1e3).toString();t.push(a);let s=t.join("|");r.ZP.setItem(n.kl,s)}static isFullyLoggedIn(e,t){return e&&t===i.Z.DEFAULT}static handleRedirect(e){if(!e){e="/";let t=(0,d.Z)();if(t){let a=t.next;a&&(e=a,delete t.next),e=(0,c.Z)(e||"/",t)}}(0,s.Z)(e)}static handleRedirectWithFallbackWindowLocation(){this.handleRedirect(this.defaultLoginRedirectUrl())}static handleSignupRedirect(e,t){(0,r.M0)().setItem(n.F6,Date.now()),!t&&e&&"/"!==e?_.handleRedirect(e):_.handleRedirect("/")}static storeLoginCredentialsToBrowser(e){let t=window.navigator.credentials;if(t&&e.username_or_email)try{let a=new window.PasswordCredential({id:e.username_or_email,password:e.password});t.store(a).then(()=>{(0,o.My)("navigatorCredentials.store.success")})}catch(e){(0,o.My)("navigatorCredentials.store.error")}}static handleLoginMfa(e,t,a){(0,o.My)("multi_step_login"),_.storeLoginCredentialsToBrowser(e),a?a(e,t):(0,o.My)("unauth.login.error.CLIENT_ERROR.null_mfa_handler")}}let g=_;function m(e){return e.facebook_id?"facebook":e.google_open_id_token?"google_one_tap":e.line_id_token?"line":e.username_or_email?"email":e.qr_token?"qr_code":e.recipient?"otp":"other"}function p(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":m(e)}function h(e){return e.facebook_id?"facebook":e.google_open_id_token?"google":e.username_or_email?"email":e.qr_token?"qr_code":e.recipient?"otp":"other"}},919492:function(e,t,a){a.d(t,{E_:()=>o,Eh:()=>i,du:()=>l,yV:()=>r});var n=a(841270),s=a(899681);let i=(e,t)=>{if("DEPRECATED_CHECK_EXISTS"===t)return"facebook_id"in e&&"facebook"||"google_open_id_token"in e&&"google"||"line_id_token"in e&&"line"||"sso_id_token"in e&&"sso"||"email";if("DEPRECATED_CHECK_TRUTHY"===t)if(e.facebook_id)return"facebook";else if(e.google_open_id_token)return"google";else if(e.line_id_token)return"line";else if(e.sso_id_token)return"sso";else return"email";return e.type},r=e=>{let t=i(e,"DEPRECATED_CHECK_TRUTHY");return"google"===t?"google_one_tap":t},l=e=>s.rT.includes(e)||s.ZR.has(e)||((e="")=>e in n.i5)(e),o={GOOGLE:"g",FACEBOOK:"fb",PINTEREST:"p",APPLE:"apl",LINE:"ln",UNKNOWN:"unk",SSO:"sso"}},49932:function(e,t,a){a.d(t,{$:()=>n,Z:()=>i});let{Provider:n,getMaybe:s}=(0,a(213491).Z)("TimeSpentManagerContext"),i=s},708722:function(e,t,a){a.d(t,{Z:()=>c});var n=a(686659),s=a(667294),i=a(399353),r=a(24246),l=a(785893);let o=new i.Ry(1e4);function c(){(0,s.useEffect)(()=>{(0,n.Z)("SkipToContent","/app/packages/ui/SkipToContent.tsx")},[]);let[e,t]=(0,s.useState)(!1),[a,c]=(0,s.useState)(null),d=(0,r.Z)(),u=(0,s.useCallback)(()=>{a?.removeAttribute("tabindex"),a?.removeEventListener("blur",u),a?.removeEventListener("focusout",u)},[a]);(0,s.useEffect)(()=>(a||c(document.querySelector('[role="main"]')),()=>{a?.removeEventListener("blur",u),a?.removeEventListener("focusout",u)}),[a,u]);let _=(0,l.jsx)(i.xu,{color:"primary",children:(0,l.jsx)(i.kC,{alignItems:"center",height:75,justifyContent:"center",width:"100%",children:(0,l.jsx)(i.xe,{align:"center",color:"inverse",underline:e,weight:"bold",children:d.bt("Aller directement au contenu", "Skip to content", "SkipToContent.Message", undefined, true)})})});return(0,l.jsx)(i.Tg,{href:"#",onBlur:()=>t(!1),onFocus:()=>t(!0),onTap:()=>{a?.setAttribute("tabindex","-1"),a?.focus({preventScroll:!0}),a?.addEventListener("blur",u),a?.addEventListener("focusout",u)},children:e?(0,l.jsx)(i.xu,{"data-test-id":"skipToContentContainer",position:"fixed",width:"100%",zIndex:o,children:_}):(0,l.jsx)(i.xu,{"data-test-id":"hiddenSkipToContentContainer",height:1,margin:-1,overflow:"hidden",position:"absolute",width:1,children:_})})}},17658:function(e,t,a){a.d(t,{Z:()=>s});var n=a(667294);function s(e,t){let a=(0,n.useRef)([]),[s,i]=(0,n.useState)(),[r,l]=(0,n.useReducer)(s??(()=>t),t),o=(0,n.useCallback)(t=>{s?l(t):(a.current.length||e().then(e=>{i(()=>e.default)}),a.current=[...a.current,t])},[e,s]);return(0,n.useEffect)(()=>{s&&(a.current.forEach(l),a.current=[])},[s]),[r,o]}},387535:function(e,t,a){a.d(t,{Z:()=>n});function n(e){return{type:"UPDATE_VIEWER_IS_PROFILE_OWNER_OR_PROFILE_MANAGER",payload:e}}},131990:function(e,t,a){a.d(t,{Z:()=>s});var n=a(305375);function s(){let{catalog_id:e,feed_profile_id:t,workflow_id:a,product_group_id:s,event_type_id:i,supplemental_feed_profile_id:r,mn_catalog_id:l,mn_product_group_id:o}=(0,n.Z)();return{catalogId:e,feedProfileId:t,workflowId:a,productGroupId:s,eventTypeId:i,supplementalFeedProfileId:r,mnCatalogId:l,mnProductGroupId:o}}},566497:function(e,t,a){a.d(t,{Z:()=>o});var n=a(686659),s=a(667294),i=a(935059),r=a(190914),l=a(785893);let o=({children:e})=>{(0,s.useEffect)(()=>{(0,n.Z)("RoleBasedAccessControlProviderWrapper","/app/partner/organic-role-based-access-control/components/RoleBasedAccessControlProviderWrapper.tsx")},[]);let t=(0,i.Z)();return t.isAuth&&t.isPartner?(0,l.jsx)(r.r,{children:e}):e}},264267:function(e,t,a){a.d(t,{pb:()=>A,nf:()=>y,lV:()=>P});var n=a(667294),s=a(581722),i=a(441143),r=a.n(i),l=a(27399),o=a(213491),c=a(47755),d=a(57887),u=a(360033),_=a(730056);let g={feature_map:Object.freeze({})},m=(e,t)=>{let a={...(0,_.Z)(e,t),...t.reaction_counts?{reaction_counts:t.reaction_counts}:Object.freeze({}),...t.tags?{tags:t.tags}:Object.freeze({}),...t.tagged_users?{tagged_users:t.tagged_users}:Object.freeze({})};return(0,u.ZP)(e,a)?e:a},p=(e,t)=>{if(e=e||g,"FETCH_COMPLETE"===t.type){let{payload:{resource:a,options:n={}}}=t,{data:s}=t.payload.response.resource_response;if("AggregatedCommentReplyFeedResource"===a||"ApiResource"===a&&n.url===`/v3/aggregated_comments/${n.data?.aggregated_comment}/replies/`||"ApiResource"===a&&n.url===`/v3/aggregated_pin_data/${n.data?.aggregated_pin_data}/comments/`||"DidItCommentsResource"===a){let t=(s||[]).reduce((t,a)=>(t[a.id]=m(e[a.id],a),t),{});return{...e,...t}}if("UnifiedCommentsResource"===a&&s&&s.length>0){let t=s.filter(e=>"aggregatedcomment"===e.type).reduce((t,a)=>(t[a.id]=m(e[a.id],a),t),{});return{...e,...t}}if("UnifiedCommentsPreviewResource"===a&&s&&s.length>0){let t=s.map(e=>e.aggregated_comment).reduce((t,a)=>(a&&(t[a.id]=m(e[a.id],a)),t),{}),a=s.map(e=>e.creator_reply).reduce((t,a)=>(a&&a.id&&(t[a.id]=m(e[a.id],a)),t),{});return{...e,...t,...a}}if("ApiResource"===a&&"/v3/aggregated_comments/features/"===n.url&&s&&Object.keys(s).length>0)return{...e,feature_map:s}}else if("AGGREGATED_COMMENT_CREATED"===t.type){let{payload:{aggregatedComment:a}}=t;return a.id?{...e,[a.id]:a}:e}else if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){let{payload:{aggregatedCommentId:a}}=t,n={...e};return delete n[a],n}else if("AGGREGATED_COMMENT_HIDDEN_FOR_USER"===t.type){let{payload:{userId:a}}=t;return Object.fromEntries(Object.entries(e??{}).filter(e=>e[1].user?.id!==a))}else if("AGGREGATED_COMMENT_UPDATED"===t.type){let{payload:{data:a}}=t;return{...e,[a.id]:m(e?.[a.id],a)}}else if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){let{payload:{data:a}}=t,n=e?.[a.id],s=n?.reaction_counts[1]||0,i={1:a.reaction_by_me?s+1:s-1},r={...n,reaction_by_me:a.reaction_by_me,reaction_counts:i};return{...e,[a.id]:r}}else if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===t.type){let{payload:{data:a}}=t,n=e?.[a.id],s=n?.helpful_count||0,i=a.marked_helpful_by_me?s+1:s-1,r={...n,marked_helpful_by_me:a.marked_helpful_by_me,helpful_count:i};return{...e,[a.id]:r}}else if("AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED"===t.type){let{payload:{data:a}}=t,n={...e?.[a.aggregated_comment_id],highlighted_by_pin_owner:a.is_highlighted};return{...e,[a.aggregated_comment_id]:n}}else if("AGGREGATED_COMMENT_FEATURES_UPDATED"===t.type){let{payload:{data:{featureMap:a}}}=t;return{...e,feature_map:{...e?.feature_map,...a}}}else if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){let{payload:{increment:a,id:n}}=t,s=e?.[n];if(!s)return e;let i={...s,comment_count:s.comment_count+a};return{...e,[n]:i}}else if("DELETE_COMMENT_MENTION"===t.type){let{payload:{aggregatedCommentId:a,tagged_users:n}}=t,s={...e?.[a],tagged_users:n};return{...e,[a]:s}}else if("GET_COMMENT_TRANSLATION"===t.type){let{payload:{aggregatedCommentId:a,translatedText:n}}=t,s={...e?.[a],translatedText:n};return{...e,[a]:s}}return e};var h=a(785893);let{Provider:f,get:E}=(0,o.Z)("AggregatedComments");function A({children:e}){let t=(0,s.v9)(({resources:e})=>e?.UnifiedCommentsResource),a=g;t&&Object.values(t).forEach(e=>{let t=e.data?.filter(e=>"aggregatedcomment"===e.type),n=t?.reduce((e,t)=>(e[t.id]=m(a[t.id],t),e),{});a={...a,...n}});let[i,r]=(0,n.useReducer)(p,a),l=e=>{r({type:"FETCH_COMPLETE",payload:e})};(0,d.Z8)("AggregatedCommentReplyFeedResource",l),(0,d.my)("AggregatedCommentReplyFeedResource",l),(0,d.Z8)("ApiResource",l),(0,d.my)("ApiResource",l),(0,d.Z8)("DidItCommentsResource",l),(0,d.my)("DidItCommentsResource",l),(0,d.Z8)("UnifiedCommentsPreviewResource",l),(0,d.my)("UnifiedCommentsPreviewResource",l),(0,d.Z8)("UnifiedCommentsResource",l),(0,d.my)("UnifiedCommentsResource",l);let o=(0,n.useMemo)(()=>({aggregatedComments:i,dispatch:r}),[i,r]);return(0,h.jsx)(f,{value:o,children:e})}function y(){let{dispatch:e}=E();return(0,n.useMemo)(()=>({aggregatedCommentCreated(t,a){e({type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:t,aggregatedComment:a}})},aggregatedCommentDeleted:(t,a)=>{e({type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:t,aggregatedCommentId:a}})},aggregatedCommentHidden:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:t}})},aggregatedCommentsHiddenForUser:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN_FOR_USER",payload:{userId:t}})},flagAggregatedComment:async({isAggregatedComment:e=!0,commentId:t,reason:a,detailedReasons:n})=>e?(0,c.Z)({url:"/v3/aggregated_comments/{aggregated_comment}/flag/",urlParams:{aggregated_comment:t},method:"PUT",data:{reason:a,detailed_reasons:n}}):(0,c.Z)({url:"/v3/did_it/{user_did_it_data}/flag/",urlParams:{user_did_it_data:t},method:"PUT",data:{reason:a,detailed_reasons:n}}),deleteCommentMention:async t=>{let{resource_response:a}=await (0,c.Z)({url:"/v3/aggregated_comments/{aggregated_comment}/mentions/",urlParams:{aggregated_comment:t},method:"DELETE"}),n=a.data;n?.id&&e({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:n.id,tagged_users:n.tagged_users??[]}})},translateAggregatedComment:async t=>{try{let{resource_response:a}=await (0,c.Z)({url:"/v3/aggregated_comments/{aggregated_comment}/translate/",urlParams:{aggregated_comment:t},method:"GET"}),n=a.data??"";e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:t,translatedText:n}})}catch(a){e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:t,translatedText:""}})}},toggleAggregatedCommentHelpful:({aggregatedCommentId:t,isMarkedHelpfulByMe:a,orbacSubjectId:n})=>{(0,c.Z)({url:`/v3/helpful/1/${t}/`,method:a?"DELETE":"POST",data:n?{orbac_subject_id:n}:{}}),e({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:t,marked_helpful_by_me:!a}}})},toggleAggregatedCommentHighlight:async({aggregatedCommentId:t,pinId:a,isHighlighted:n})=>{r()(t,"Could not find comment"),r()(a,"Could not find Pin"),await (0,c.Z)({url:"/v3/aggregated_comments/pin/highlight/",method:"PUT",data:{aggregated_comment:t,pin:a,highlight:!n}}),e({type:"AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED",payload:{data:{aggregated_comment_id:t,pin_id:a,is_highlighted:!n}}})},toggleAggregatedCommentLike:({aggregatedCommentId:t,isLikedByMe:a,orbacSubjectId:n})=>{(0,c.Z)({url:"/v3/aggregated_comments/{aggregated_comment}/react/",urlParams:{aggregated_comment:t},method:a?"DELETE":"POST",data:{reaction_type:1,...n?{orbac_subject_id:n}:{}}}),e({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:t,reaction_by_me:+!a}}})},updateAggregatedComment:async({commentId:t,force:a,orbacSubjectId:n,tags:s,text:i})=>{let{resource_response:r}=await l.Z.create("AggregatedCommentResource",{commentId:t,force:a,tags:s,text:i,...n?{orbacSubjectId:n}:{}}).callUpdate({showError:!1}),{tagged_users:o}=r.data??{};e({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:t,tagged_users:o.map(e=>({...e})),tags:JSON.parse(s),text:i}}})},updateAggregatedCommentFeatures:async({userId:t,featureMap:a,passcode:n,userConfirmPasscode:s})=>{let{resource_response:i}=await (0,c.Z)({url:"/v3/aggregated_comments/features/",method:"PUT",data:{user:t,feature_map:JSON.stringify(a),passcode:n,user_confirm_skip_passcode:s??!1}});e({type:"AGGREGATED_COMMENT_FEATURES_UPDATED",payload:{data:{featureMap:i.data??Object.freeze({})}}})},updateCommentCount:(t,a)=>{e({type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:a,id:t}})}}),[e])}function P(){let{aggregatedComments:e}=E();return e}},827371:function(e,t,a){a.d(t,{Z:()=>n});let n=(0,a(667294).createContext)([null,()=>{}])},488661:function(e,t,a){a.d(t,{HW:()=>l,MS:()=>u,i3:()=>_});var n=a(667294),s=a(213491),i=a(510755),r=a(785893);let l=i.fe+1,o={educationId:null,paddingRight:0,zIndex:l};function c(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":let{educationId:a}=t.payload;return{...e,educationId:a};case"FOOTER_SET_PADDING_RIGHT":let{paddingRight:n}=t.payload;return{...e,paddingRight:n};case"FOOTER_SET_Z_INDEX":let{zIndex:s}=t.payload;return{...e,zIndex:s};default:return e}}let{Provider:d,get:u}=(0,s.Z)("footerContext");function _({children:e}){let[t,a]=(0,n.useReducer)(c,o),s=(0,n.useCallback)(e=>a({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}}),[]),i=(0,n.useCallback)(e=>a({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}}),[]),l=(0,n.useCallback)(e=>a({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}}),[]),u=(0,n.useMemo)(()=>({...t,setEducationId:i,setPaddingRight:s,setZIndex:l}),[t,i,s,l]);return(0,r.jsx)(d,{value:u,children:e})}},49254:function(e,t,a){a.d(t,{c:()=>s,t:()=>i});var n=a(380108);function s({children:e}){let{height:t}=(0,n.Z)();return e(t)}function i(){let{height:e}=(0,n.Z)();return e}},380108:function(e,t,a){a.d(t,{C:()=>n,Z:()=>i});let{Provider:n,get:s}=(0,a(213491).Z)("Header"),i=s},883097:function(e,t,a){a.d(t,{US:()=>h,X2:()=>E,mW:()=>f});var n=a(667294),s=a(27399),i=a(104999),r=a(213491),l=a(702763),o=a(57887),c=a(17658),d=a(785893);let u=()=>a.e("14197").then(a.bind(a,974429));function _(e,t,a=!1){return{type:"TOPIC_FOLLOW",payload:{id:e,value:t,showTooltip:a}}}function g(e){return s.Z.create("InterestFollowResource",{interest_id:e,interest_list:l.X})}let{Provider:m,get:p}=(0,r.Z)("Topics");function h({children:e}){let[t,a]=(0,c.Z)(u,{}),s=e=>{a({type:"TOPIC_FETCH_COMPLETE",payload:e})};(0,o.Z8)("InterestFollowingResource",s),(0,o.Z8)("InterestResource",s);let i=(0,n.useMemo)(()=>({dispatch:a,topics:t}),[a,t]);return(0,d.jsx)(m,{value:i,children:e})}function f(){let{dispatch:e}=p(),t=(0,i.Z)();return(0,n.useMemo)(()=>({follow:async(a,n=!1)=>{e(_(a,!0,n));try{await g(a).callCreate({showError:!1}),t({event_type:601,object_id_str:a})}catch(t){e(_(a,!1,n))}},unfollow:async a=>{e(_(a,!1));try{await g(a).callDelete({showError:!1}),t({event_type:602,object_id_str:a})}catch(t){e(_(a,!0))}}}),[e,t])}function E(){let{topics:e}=p();return e}},943893:function(e,t,a){a.d(t,{$o:()=>r,GW:()=>n,Jo:()=>i,MS:()=>f,Q8:()=>p,VX:()=>g,Zo:()=>o,aD:()=>c,b2:()=>u,g2:()=>_,s4:()=>l,tK:()=>h,ym:()=>d,zQ:()=>m});let n="/business/hub/?show_vmp=true",s=["FR"],i=["US","GB","CA","AU","DE","FR"].concat(["ES","IT","AT","CH","NL","BR","MX"]).filter(e=>!s.includes(e)),r={APPROVED:"approved",PENDING:"pending",DISAPPROVED:"declined",APPEAL_PENDING:"appeal_pending"},l=Object.freeze({APPLIED:"APPLIED",ACCEPTED:"ACCEPTED",NON_COMPLIANT:"NON_COMPLIANT",SUSPENDED:"SUSPENDED",CANCELLED:"CANCELLED"}),o=Object.freeze({UNSTARTED:"circle-dot",IN_PROGRESS:"circle-in-progress",ACCEPTED:"circle-check",ATTENTION:"diamond-exclamation-point",REJECTED:"triangle-error",RECOMMENDED:"circle-information"}),c=Object.freeze({UNSTARTED:"dark",IN_PROGRESS:"success",ACCEPTED:"success",ATTENTION:"warning",REJECTED:"error",RECOMMENDED:"subtle"}),d="Verified merchant program not yet available in this country",u=2e3,_={can_appeal:!0,is_appeal:!1,appeal_count:0,appeal_comment:"",shipping_policy_url:"",return_policy_url:"",review_status:2,review_reasons:[]},g=Object.freeze({ACCOUNT_AGE:"ACCOUNT_AGE",DOMAIN_AGE:"DOMAIN_AGE",PROFILE_IMAGE:"PROFILE_IMAGE",PROFILE_COVER_IMAGE:"PROFILE_COVER_IMAGE",BIO:"BIO",SHOP_TAB:"SHOP_TAB",PINNER_FEEDBACK:"PINNER_FEEDBACK"}),m=[g.ACCOUNT_AGE,g.DOMAIN_AGE,g.PROFILE_IMAGE,g.PROFILE_COVER_IMAGE,g.BIO,g.SHOP_TAB,g.PINNER_FEEDBACK],p=Object.freeze({PASS:"PASS",FAIL:"FAIL"}),h=30,f=.5},864206:function(e,t,a){a.d(t,{Z:()=>l});var n=a(686659),s=a(667294),i=a(793160),r=a(785893);function l({children:e}){(0,s.useEffect)(()=>{(0,n.Z)("InboxButtonController","/app/www/growth/news/ConversationsPanel/InboxButtonController.tsx")},[]);let[t,a]=(0,s.useState)(null),[l,o]=(0,s.useState)(null),[c,d]=(0,s.useState)(!1),[u,_]=(0,s.useState)(null),g=(0,s.useMemo)(()=>({inboxButton:t,setInboxButton:a,profileInboxButton:l,groupBoardMessageButton:u,setProfileInboxButton:o,isUnblockToast:c,setIsUnblockToast:d,setGroupBoardMessageButton:_}),[t,l,c,u]);return(0,r.jsx)(i.Z,{value:g,children:e})}},899681:function(e,t,a){a.d(t,{EU:()=>r,IO:()=>i,ZR:()=>l,rT:()=>s,zu:()=>n});let n="OPEN_UNAUTH",s=["US","CA","NZ","AU"],i=new Set(["GB","IE"]),r=new Set(["AT","BE","CH","DE","DK","ES","FR","IT","NL","NO","PT","SE"]),l=new Set(["BR","MX","AR","CL","CO","PE"])},353638:function(e,t,a){a.d(t,{Z:()=>o});var n=a(686659),s=a(667294),i=a(399353),r=a(465784),l=a(785893);function o({isOpen:e,onDismiss:t,type:a,textAlign:o,accessibilityModalLabel:c,heading:d,headingMarginTop:u,description:_,hasMultiLineDescription:g,primaryBtnParams:m,secondaryBtnParams:p,showDismissIcon:h,headingSize:f,closeOnOutsideClick:E}){(0,s.useEffect)(()=>{(0,n.Z)("SettingsModal","/app/www/settings/duplo/SettingsModal.tsx")},[]);let A=(e,t)=>e?(0,s.isValidElement)(e)?e:(0,l.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{textWrap:"pretty"}},marginBottom:3,children:(0,l.jsx)(i.xv,{align:o||"center",inline:!0,children:e})},t?`description-line-${t}`:"single-description-line"):null;return(0,l.jsx)(r.ZP,{accessibilityModalLabel:c||"",closeOnOutsideClick:E||!0,isOpen:e,mobileHideCloseIcon:!0,onDismiss:t||(()=>{}),type:a||"",children:(0,l.jsxs)(i.xu,{padding:4,children:[(0,l.jsxs)(i.xu,{marginBottom:_?3:8,marginTop:u||0,children:[h&&t&&(0,l.jsx)(i.hU,{accessibilityLabel:"Dismiss modal",bgColor:"default",icon:"close",iconColor:"default",onClick:t,size:"sm"}),(0,l.jsx)(i.qd,{accessibilityLevel:1,align:o||"center",size:f||"600",children:d})]}),g&&Array.isArray(_)?_.map((e,t)=>A(e,t)):A(_),(0,l.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"center",wrap:!0,children:[(0,l.jsx)(i.xu,{display:"flex",flex:"grow",justifyContent:"end",padding:1,children:(0,l.jsx)(i.zx,{accessibilityLabel:m.text,color:m.color,fullWidth:m.fullWidth??!0,onClick:m.onClick,size:"lg",text:m.text})}),p?(0,l.jsx)(i.xu,{flex:"grow",padding:1,children:(0,l.jsx)(i.zx,{accessibilityLabel:p.text,color:p.color,fullWidth:p.fullWidth??!0,onClick:p.onClick,size:"lg",text:p.text})}):null]})]})})}},520803:function(e,t,a){a.d(t,{Z:()=>l});var n=a(667294),s=a(616550),i=a(312048),r=a(794074);function l(){let e=(0,n.useRef)(null);return null===e.current&&(e.current=(0,r.Z)()),(e.current?function(){let e=(0,i.UO)(),t=(0,i.TH)(),a=Object.entries(e).reduce((e,[t,a])=>(a&&(e[a]=t),e),{}),s=t.pathname.split("/").map(e=>a[e]?`:${a[e]}`:e).join("/");return(0,n.useMemo)(()=>({isExact:!0,params:e,path:s,url:t.pathname}),[e,s,t.pathname])}:s.$B)()}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/92262.fr-01ec0747f7a5144b.mjs.map